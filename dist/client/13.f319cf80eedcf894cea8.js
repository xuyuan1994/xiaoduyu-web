(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{742:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;var t=k();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var l=a?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}}n.default=e,t&&t.set(e,n);return n}(n(0)),r=n(115),l=n(77),o=w(n(782)),c=n(168),i=n(792),u=n(286),d=n(78),s=n(293),f=w(n(779)),m=w(n(780)),p=w(n(812)),v=w(n(787)),y=w(n(801)),_=w(n(783)),g=w(n(813)),h=w(n(803)),b=w(n(807)),E=w(n(815));function w(e){return e&&e.__esModule?e:{default:e}}function k(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return k=function(){return e},e}function N(e,t,n,a,r,l,o){try{var c=e[l](o),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(a,r)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n(743);var j=function(e){var t=e.match,n=e.setNotFound,f=t.params.id,w=(0,c.useSelector)((function(e){return(0,d.getUserInfo)(e)})),k=(0,c.useSelector)((function(e){return(0,u.getCommentListById)(e,"single_"+f)}))||{},N=k.data,j=void 0===N?[]:N,x=k.loading,C=k.more,P=void 0===C||C,M=(0,c.useStore)();if((0,a.useEffect)((function(){var e;x||j[0]||!P||(e={id:"single_"+f,args:{_id:f,deleted:!1,weaken:!1},fields:"\n          posts_id{\n            _id\n            title\n            content_html\n          }\n          content_html\n          create_at\n          reply_count\n          like_count\n          _id\n          user_id {\n            _id\n            nickname\n            avatar_url\n            brief\n          }\n          like\n        "},(0,i.loadCommentList)(e)(M.dispatch,M.getState)).then((function(e){var t=O(e,2),a=(t[0],t[1]);if(a&&a.data&&!a.data[0])n("该评论不存在");else if(a&&a.data&&a.data[0]){var r=a.data[0];!function(e){(0,s.addHasRead)(e)(M.dispatch,M.getState)}({commentId:r._id,total:r.reply_count})}}))}),[]),x||!j[0])return a.default.createElement("div",{className:"text-center"},a.default.createElement(_.default,null));var S=j[0];return a.default.createElement(o.default,null,a.default.createElement("div",null,a.default.createElement(m.default,{title:"".concat(S.posts_id.title)},a.default.createElement("meta",{name:"description",content:"".concat(S.content_summary)}),a.default.createElement("link",{rel:"canonical",href:"".concat(l.domainName,"/comment/").concat(S._id)}),a.default.createElement("link",{rel:"amphtml",href:"".concat(l.domainName,"/amp/comment/").concat(S._id)}),a.default.createElement("meta",{property:"og:locale",content:"zh_CN"}),a.default.createElement("meta",{property:"og:type",content:"article"}),a.default.createElement("meta",{property:"og:title",content:S.posts_id.title}),a.default.createElement("meta",{property:"og:description",content:"".concat(S.content_summary)}),a.default.createElement("meta",{property:"og:url",content:"".concat(l.domainName,"/comment/").concat(S._id)}),a.default.createElement("meta",{property:"og:site_name",content:l.name}),a.default.createElement("meta",{property:"og:image",content:S.user_id.avatar_url?"https:"+S.user_id.avatar_url:l.domainName+"/512x512.png"})),a.default.createElement("div",{className:"card"},a.default.createElement("div",{className:"card-body border-bottom"},a.default.createElement(r.Link,{to:"/posts/".concat(S.posts_id._id)},a.default.createElement("h5",{className:"text-dark"},S.posts_id.title)),S.posts_id.content_summary?a.default.createElement("div",null,S.posts_id.content_summary):null),a.default.createElement("div",{className:"card-body"},a.default.createElement("div",null,a.default.createElement("div",{className:"_3qlnm"},a.default.createElement("div",null,a.default.createElement(r.Link,{to:"/people/".concat(S.user_id._id)},a.default.createElement("img",{className:"_2O0cW",src:S.user_id.avatar_url}),a.default.createElement("b",{className:"text-dark"},S.user_id.nickname))),a.default.createElement("div",{className:"_225ls"},S.user_id.brief||"...")),a.default.createElement("div",{className:"_28jbA"},a.default.createElement(v.default,{content:S.content_html})))),a.default.createElement("div",{className:"card-footer d-flex justify-content-between"},a.default.createElement("div",{className:"text-secondary _225ls"},S._create_at?a.default.createElement("span",null,S._create_at):null,S.like_count?a.default.createElement("span",null,S.like_count," 人赞"):null),a.default.createElement("div",{className:"_3hCcW"},a.default.createElement(g.default,{comment:S}),a.default.createElement(h.default,{comment:S}),a.default.createElement(b.default,{comment:S})))),S.reply_count?a.default.createElement("div",{className:"card"},a.default.createElement("div",{className:"card-header border-bottom-0"},S.reply_count," 条回复"),a.default.createElement("div",{className:"card-body p-0"},a.default.createElement(p.default,{id:f,query:{parent_id:f,page_size:100},nothing:"还未有人回复"}))):null,w?a.default.createElement("div",{className:"card _34oYM"},a.default.createElement(y.default,{posts_id:S.posts_id._id,parent_id:S._id,reply_id:S._id,placeholder:"回复 "+S.user_id.nickname})):null,a.default.createElement("div",{className:"d-block d-lg-none d-xl-none"},a.default.createElement(E.default,{width:"100%",height:"200px"}))))};j.loadDataOnServer=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,a,r,l,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.store,a=t.match,t.res,t.req,!t.user){e.next=3;break}return e.abrupt("return",{code:200});case 3:return r=a.params.id,e.next=6,(0,i.loadCommentList)({id:"single_"+r,args:{_id:r,deleted:!1,weaken:!1},fields:"\n      posts_id{\n        _id\n        title\n        content_html\n      }\n      content_html\n      create_at\n      reply_count\n      like_count\n      _id\n      user_id {\n        _id\n        nickname\n        avatar_url\n      }\n    "})(n.dispatch,n.getState);case 6:if(l=e.sent,(o=O(l,2))[0],!((c=o[1])&&c.data&&c.data.length>0)){e.next=14;break}return e.abrupt("return",{code:200});case 14:return e.abrupt("return",{code:404});case 15:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var l=e.apply(t,n);function o(e){N(l,a,r,o,c,"next",e)}function c(e){N(l,a,r,o,c,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}();var x=(0,f.default)(j);t.default=x},779:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){t.history;var n=t.location,u=t.match;t.staticContext;"undefined"!=typeof window&&l.set("history",(0,r.default)().history);var d,s,f=(0,a.useState)(""),m=(s=2,function(e){if(Array.isArray(e))return e}(d=f)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],a=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}return n}}(d,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),p=m[0],v=m[1],y=(0,o.useStore)(),_=n.pathname,g=n.search;return n.params=g?(0,i.default)(g):{},(0,a.useEffect)((function(){return"undefined"!=typeof window&&"/"!=window.location.pathname&&(0,c.setScrollPosition)(_+g)(y.dispatch,y.getState),function(){"undefined"!=typeof window&&l.remove("history")}}),[]),p?a.default.createElement("div",{className:"container text-center"},p):a.default.createElement(e,{match:u,setNotFound:v})};return t.loadDataOnServer=e.loadDataOnServer||function(){return{code:200}},t};var a=s(n(0)),r=u(n(277)),l=s(n(116)),o=n(168),c=n(278),i=u(n(781));function u(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function s(e){if(e&&e.__esModule)return e;var t=d();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var l=a?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}}return n.default=e,t&&t.set(e,n),n}},780:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.title,n=e.children,a=(0,o.useSelector)((function(e){return(0,c.getUnreadNotice)(e)})),d=(0,o.useSelector)((function(e){return(0,i.getTipsById)(e,"home")||(0,i.getTipsById)(e,"feed")||(0,i.getTipsById)(e,"favorite")||(0,i.getTipsById)(e,"excellent")})),s=(0,o.useSelector)((function(e){return(0,i.getTipsById)(e,"unread-message")})),f="";s&&(f+="(".concat(s,"条私信) "));a&&a.length>0&&(f+="(".concat(a.length,"条通知) "));d&&(f+="(有新动态) ");f+=t||u.name,t&&(f+=" - ".concat(u.name));return r.default.createElement(r.default.Fragment,null,r.default.createElement(l.ReactTitle,{title:f}),n?r.default.createElement(l.default,null,n):null)};var a,r=(a=n(0))&&a.__esModule?a:{default:a},l=function(e){if(e&&e.__esModule)return e;var t=d();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var l=a?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}}n.default=e,t&&t.set(e,n);return n}(n(691)),o=n(168),c=n(169),i=n(170),u=n(77);function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}},781:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e.substr(1).split("&").reduce((function(e,t){if(t){var n=t.split("=");e[n[0]]=n[1]||""}return e}),{})};t.default=a},782:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.children;return r.default.createElement("div",{className:"container"},r.default.createElement("div",{className:"_3RUsQ"},t))};var a,r=(a=n(0))&&a.__esModule?a:{default:a};n(692)},783:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.size,e.position;return r.default.createElement("span",{className:"_3H7UH"})};var a,r=(a=n(0))&&a.__esModule?a:{default:a};n(693)},784:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.id,n=e.query,o=e.fields,c=void 0===o?"":o,i=e.load,u=e.data,d=void 0===u?[]:u,s=e.loading,f=void 0===s||s,m=e.count,p=void 0===m?0:m,v=e.more,y=void 0===v||v,_=e.showPagination,g=void 0!==_&&_,h=e.scrollLoad,b=void 0!==h&&h,E=e.nothing,w=void 0===E?"--- 无数据 ---":E,k=e.filters,N=e.renderItem,O=e.renderHead,j=e.renderFooter,x=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i({id:t,args:n,fields:c,restart:e})};if((0,a.useEffect)((function(){return 0==d.length&&y&&x(),b&&ArriveFooter.add(t,x),function(){b&&ArriveFooter.remove(t)}}),[t]),!f&&d&&0==d.length&&!y&&w)return a.default.createElement("div",{className:"text-center text-secondary pt-3 pb-3"},w);return a.default.createElement(a.default.Fragment,null,O?O({loadData:x}):null,d.map((function(e){return N(e)})),f&&g||y&&b?a.default.createElement("div",{className:"text-center pt-3 pb-3"},a.default.createElement(r.default,null)):null,g&&k?a.default.createElement(l.default,{count:p||0,pageSize:k.page_size||0,pageNumber:k.page_number||0,onSelect:function(e){n.page_number=e,x(!0)}}):null,j?j({loadData:x}):null)};var a=function(e){if(e&&e.__esModule)return e;var t=c();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var l=a?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}}n.default=e,t&&t.set(e,n);return n}(n(0)),r=o(n(783)),l=o(n(786));function o(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}},786:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.count,n=void 0===t?0:t,a=e.pageSize,l=void 0===a?0:a,o=e.pageNumber,c=void 0===o?0:o,i=e.onSelect,u=Math.ceil(n/l);if(!n||1==u)return null;var d=c>1?c-1:0,s=c+1<=u?c+1:0;return r.default.createElement("nav",{"aria-label":"Page navigation",className:"mt-3"},r.default.createElement("ul",{className:"pagination justify-content-center mb-3"},r.default.createElement("li",{className:"page-item ".concat(d?"":"disabled")},r.default.createElement("div",{className:"page-link","aria-label":"Previous",onClick:function(){i(d)}},r.default.createElement("span",{"aria-hidden":"true"},"«"),r.default.createElement("span",{className:"sr-only"},"Previous"))),function(){for(var e=[],t=c+4>=u?u:c+4,n=function(t){e.push(r.default.createElement("li",{className:"page-item ".concat(c-1==t?"active":""),key:t},r.default.createElement("div",{className:"page-link",onClick:function(){i(t+1)}},t+1)))},a=c-5>=1?c-5:0;a<t;a++)n(a);return e}(),r.default.createElement("li",{className:"page-item ".concat(s?"":"disabled")},r.default.createElement("div",{className:"page-link","aria-label":"Next",onClick:function(){i(s)}},r.default.createElement("span",{"aria-hidden":"true"},"»"),r.default.createElement("span",{className:"sr-only"},"Next")))))};var a,r=(a=n(0))&&a.__esModule?a:{default:a}},796:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={};a.in="undefined"!=typeof window&&"undefined"!=typeof document&&"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i);var r=a;t.default=r},800:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,a.useRef)();return(0,a.useEffect)((function(){if(window.adsbygoogle)(adsbygoogle=window.adsbygoogle||[]).push({});else{var e=document.getElementsByTagName("head").item(0),n=document.createElement("script");n.onload=function(){(adsbygoogle=window.adsbygoogle||[]).push({})},n.type="text/javascript",n.src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",e.appendChild(n)}setTimeout((function(){t&&t.current&&t.current.childNodes&&0==t.current.childNodes.length&&(t.current.parentNode.className="d-none")}),1e3)}),[]),a.default.createElement("ins",l({className:"adsbygoogle"},e,{ref:t}))};var a=function(e){if(e&&e.__esModule)return e;var t=r();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}}n.default=e,t&&t.set(e,n);return n}(n(0));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}},801:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var n=t._id,u=void 0===n?"":n,d=t.posts_id,s=void 0===d?"":d,p=t.parent_id,v=void 0===p?"":p,y=t.reply_id,_=void 0===y?"":y,g=t.placeholder,h=void 0===g?"写评论...":g,b=t.successCallback,E=void 0===b?function(){}:b,w=t.getEditor,k=void 0===w?function(e){}:w,N=t.forward,O=void 0!==N&&N,j=(0,a.useRef)(),x=m((0,a.useState)(""),2),C=x[0],P=x[1],M=m((0,a.useState)(""),2),S=M[0],I=M[1],R=m((0,a.useState)(a.default.createElement("div",null)),2),T=R[0],A=R[1],D=m((0,a.useState)(null),2),U=D[0],q=D[1],z=m((0,a.useState)(!1),2),W=z[0],L=z[1],F=(0,l.useStore)(),B=function(e){return(0,o.addComment)(e)(F.dispatch,F.getState)},H=function(){var e=f(regeneratorRuntime.mark((function e(){var t,n,r,l,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!W){e.next=2;break}return e.abrupt("return");case 2:if(C){e.next=4;break}return e.abrupt("return",U.focus());case 4:if(t=decodeURIComponent(S),t.replace(/\s/gi,""),t=(t=(t=t.replace(/<[^>]+>/g,"")).replace(/\r\n/g,"")).replace(/\n/g,""),t.replace(/\&nbsp\;/gi,"")){e.next=12;break}return e.abrupt("return",U.focus());case 12:if(-1==t.indexOf('<img src="">')){e.next=15;break}return Toastify({text:"有图片上传中，请等待上传完成后再提交",duration:3e3,backgroundColor:"linear-gradient(to right, #0988fe, #1c75fb)"}).showToast(),e.abrupt("return");case 15:if(L(!0),!u){e.next=25;break}return e.next=19,p={_id:u,content:C,content_html:S},(0,o.updateComment)(p)(F.dispatch,F.getState);case 19:r=e.sent,l=m(r,2),n=l[0],l[1],e.next=31;break;case 25:return e.next=27,B({posts_id:s,parent_id:v,reply_id:_,contentJSON:C,contentHTML:S,deviceId:c.default.getCurrentDeviceId(),forward:!(!j||!j.current)&&j.current.checked});case 27:d=e.sent,f=m(d,2),n=f[0],f[1];case 31:L(!1),n?n&&Toastify({text:n.message,duration:3e3,backgroundColor:"linear-gradient(to right, #ff6c6c, #f66262)"}).showToast():(A(a.default.createElement("div",{key:(new Date).getTime()},a.default.createElement(i.default,{syncContent:Q,content:"",getEditor:function(e){q(e),k(e)},displayControls:!v}))),Q("",""),E());case 33:case"end":return e.stop()}var p}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=f(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(t),I(n),e.next=4,r.default.load({key:"comments-draft"});case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:(a=e.t0)[_||s]=t,r.default.save({key:"comments-draft",data:a});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=f(regeneratorRuntime.mark((function e(){var t,n,l,c,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="",!u){e.next=9;break}return e.next=4,p={name:"edit_"+u,args:{_id:u},fields:"\n          content\n          _id\n        ",restart:!0},(0,o.loadCommentList)(p)(F.dispatch,F.getState);case 4:n=e.sent,l=m(n,2),l[0],(c=l[1])&&c.data&&c.data[0]&&(t=c.data[0].content);case 9:return d={},e.prev=10,e.next=13,r.default.load({key:"comments-draft"});case 13:if(e.t0=e.sent,e.t0){e.next=16;break}e.t0={};case 16:d=e.t0,e.next=23;break;case 19:e.prev=19,e.t1=e.catch(10),d={},console.log(e.t1);case 23:f={content:t||d[_||s]||"",syncContent:Q,getEditor:function(e){q(e),k(e)},displayControls:!0,placeholder:h},A(a.default.createElement(i.default,f));case 25:case"end":return e.stop()}var p}),e,null,[[10,19]])})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){J(),O&&e('[data-toggle="tooltip"]').tooltip()}),[]),a.default.createElement("div",null,a.default.createElement("div",{className:"_2RtMV"},T),a.default.createElement("div",{className:"d-flex justify-content-between align-items-center _1VRJu"},a.default.createElement("div",null,O?a.default.createElement("label",{className:"m-0"},a.default.createElement("input",{type:"checkbox",ref:j}),a.default.createElement("span",{className:"ml-1","data-toggle":"tooltip","data-placement":"top",title:"同时转发给我的粉丝"},"转发")):null),a.default.createElement("div",null,a.default.createElement("button",{onClick:H,type:"button",className:"btn btn-block btn-primary rounded-pill btn-sm pl-3 pr-3"},W?"提交中...":"提交"))))};var a=function(e){if(e&&e.__esModule)return e;var t=d();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var l=a?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}}n.default=e,t&&t.set(e,n);return n}(n(0)),r=u(n(172)),l=n(168),o=n(792),c=u(n(785)),i=u(n(802));function u(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function s(e,t,n,a,r,l,o){try{var c=e[l](o),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(a,r)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var l=e.apply(t,n);function o(e){s(l,a,r,o,c,"next",e)}function c(e){s(l,a,r,o,c,"throw",e)}o(void 0)}))}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n(701)}).call(this,n(68))},803:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var n=t.posts,c=t.comment,i=t.live,d=t.styleType,s=u((0,a.useState)(!1),2),f=s[0],m=s[1],p=u((0,a.useState)(!1),2),v=p[0],y=p[1],_="",g="",h="";n?(_=n.title,g=n.content_summary,n._coverImage||"",h=l.domainName+"/posts/"+n._id):c?(_=c.posts_id.title,g=c.content_summary,c._coverImage||"",h=l.domainName+"/comment/"+c._id):i&&(_=i.user_id.nickname+"的直播间",g=i.title,i.cover_image||"",h=l.domainName+"/live/"+i._id);var b=function(){h+="?from_share=weibo",window.open("http://service.weibo.com/share/share.php?url=".concat(encodeURIComponent(h),"&title=").concat(encodeURIComponent(_)),"_blank","width=550,height=370")},E=function(){h+="?from_share=qzone",window.open("https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=".concat(encodeURIComponent(h),"&title=").concat(encodeURIComponent(_),"&desc=").concat(encodeURIComponent("来自"+l.name+" "+l.domainName),"&summary=").concat(encodeURIComponent(g),"&site=").concat(encodeURIComponent(l.name)),"_blank","width=590,height=370")},w=function(){h+="?from_share=qq",window.open("https://connect.qq.com/widget/shareqq/index.html?url=".concat(encodeURIComponent(h),"&title=").concat(_,"&desc=&summary=").concat(encodeURIComponent(g),"&site=").concat(encodeURIComponent(l.name)),"_blank","width=770,height=620")},k=function(){h+="?from_share=facebook",window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(h),"&t=").concat(_),"_blank","width=770,height=620")},N=function(){h+="?from_share=twitter",window.open("https://twitter.com/intent/tweet?text=".concat(_,"&url=").concat(encodeURIComponent(h)),"_blank","width=770,height=620")},O=function(){o.default.in?m(!0):y(!0)},j=function(e){y(e)},x=function(e){m(e)};if("icons"==d)return a.default.createElement("div",null,a.default.createElement("div",{className:"_3bezE"},a.default.createElement("span",{className:"a _1Hb5x",onClick:O}),a.default.createElement("span",{className:"a _33lE4",onClick:b}),a.default.createElement("span",{className:"a _384yp",onClick:E}),a.default.createElement("span",{className:"a _2Tml9",onClick:w}),a.default.createElement("span",{className:"a _1zLkZ",onClick:N}),a.default.createElement("span",{className:"a _3mZlN",onClick:k})),a.default.createElement("div",null,v?a.default.createElement("div",{className:"DsKCT",onClick:function(){j(!1)}}):null,v?a.default.createElement("div",{className:"_2LUT8"},a.default.createElement(r.default,{value:"".concat(h,"?_s=weixin")}),a.default.createElement("div",null,"微信扫一扫，分享")):null,a.default.createElement("div",{className:"_3hzq5",style:{display:f?"block":"none"},onClick:function(){x(!1)}},a.default.createElement("div",null,"点击右上角 ... 按钮，",a.default.createElement("br",null),"将此页面分享给你的朋友或朋友圈"))));return a.default.createElement("div",{className:"_1jwjw"},a.default.createElement("span",{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",className:"a text-secondary"},"分享"),a.default.createElement("div",null,a.default.createElement("div",{className:"dropdown-menu","aria-labelledby":"share-dropdown"},a.default.createElement("span",{className:"a dropdown-item _1z7AA",onClick:function(){var t=e("<textarea>"+(h+="?from_share=link")+"</textarea>");e("body").append(t),t[0].select(),document.execCommand("Copy"),t.remove(),Toastify({text:"复制成功",duration:3e3,backgroundColor:"linear-gradient(to right, #50c64a, #40aa33)"}).showToast()}},"复制连接"),a.default.createElement("span",{className:"a dropdown-item _1Hb5x",onClick:O},"微信"),a.default.createElement("span",{className:"a dropdown-item _33lE4",onClick:b},"微博"),a.default.createElement("span",{className:"a dropdown-item _384yp",onClick:E},"QQ空间"),a.default.createElement("span",{className:"a dropdown-item _2Tml9",onClick:w},"QQ好友和群组"),a.default.createElement("span",{className:"a dropdown-item _1zLkZ",onClick:N},"Twitter"),a.default.createElement("span",{className:"a dropdown-item _3mZlN",onClick:k},"Facebook")),v?a.default.createElement("div",{className:"DsKCT",onClick:function(){j(!1)}}):null,v?a.default.createElement("div",{className:"_2LUT8"},a.default.createElement(r.default,{value:"".concat(h,"?_s=weixin")}),a.default.createElement("div",null,"微信扫一扫，分享")):null,a.default.createElement("div",{className:"_3hzq5",style:{display:f?"block":"none"},onClick:function(){x(!1)}},a.default.createElement("div",null,"点击右上角 ... 按钮，",a.default.createElement("br",null),"将此页面分享给你的朋友或朋友圈"))))};var a=function(e){if(e&&e.__esModule)return e;var t=i();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var l=a?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}}n.default=e,t&&t.set(e,n);return n}(n(0)),r=c(n(694)),l=n(77),o=c(n(796));function c(e){return e&&e.__esModule?e:{default:e}}function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n(703)}).call(this,n(68))},815:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.width,n=e.height;if(!(r.googleAdSense&&r.googleAdSense.client&&r.googleAdSense.slot&&r.googleAdSense.slot.h5))return null;var o={style:{display:"inline-block",width:t,height:n},"data-ad-client":r.googleAdSense.client,"data-ad-slot":r.googleAdSense.slot.pc};return a.default.createElement(l.default,o)};var a=o(n(0)),r=n(77),l=o(n(800));function o(e){return e&&e.__esModule?e:{default:e}}}}]);