(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{767:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(0)),a=g(r(779)),i=g(r(780)),o=g(r(875)),c=g(r(877)),l=g(r(878)),u=g(r(880)),s=g(r(881)),d=g(r(882)),f=g(r(884)),h=g(r(885)),p=g(r(886)),m=g(r(887)),v=g(r(891)),y=g(r(782));function g(e){return e&&e.__esModule?e:{default:e}}var A=(0,a.default)((function(){return n.default.createElement(y.default,null,n.default.createElement(i.default,{title:"设置"}),n.default.createElement(o.default,null),n.default.createElement(s.default,null),n.default.createElement(c.default,null),n.default.createElement(u.default,null),n.default.createElement(f.default,null),n.default.createElement(h.default,null),n.default.createElement(l.default,null),n.default.createElement(d.default,null),n.default.createElement(p.default,null),n.default.createElement(m.default,null),n.default.createElement(v.default,null))}));t.default=A},779:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){t.history;var r=t.location,u=t.match;t.staticContext;"undefined"!=typeof window&&i.set("history",(0,a.default)().history);var s,d,f=(0,n.useState)(""),h=(d=2,function(e){if(Array.isArray(e))return e}(s=f)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}}(s,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),p=h[0],m=h[1],v=(0,o.useStore)(),y=r.pathname,g=r.search;return r.params=g?(0,l.default)(g):{},(0,n.useEffect)((function(){return"undefined"!=typeof window&&"/"!=window.location.pathname&&(0,c.setScrollPosition)(y+g)(v.dispatch,v.getState),function(){"undefined"!=typeof window&&i.remove("history")}}),[]),p?n.default.createElement("div",{className:"container text-center"},p):n.default.createElement(e,{match:u,setNotFound:m})};return t.loadDataOnServer=e.loadDataOnServer||function(){return{code:200}},t};var n=d(r(0)),a=u(r(277)),i=d(r(116)),o=r(168),c=r(278),l=u(r(781));function u(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function d(e){if(e&&e.__esModule)return e;var t=s();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}}return r.default=e,t&&t.set(e,r),r}},780:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.title,r=e.children,n=(0,o.useSelector)((function(e){return(0,c.getUnreadNotice)(e)})),s=(0,o.useSelector)((function(e){return(0,l.getTipsById)(e,"home")||(0,l.getTipsById)(e,"feed")||(0,l.getTipsById)(e,"favorite")||(0,l.getTipsById)(e,"excellent")})),d=(0,o.useSelector)((function(e){return(0,l.getTipsById)(e,"unread-message")})),f="";d&&(f+="(".concat(d,"条私信) "));n&&n.length>0&&(f+="(".concat(n.length,"条通知) "));s&&(f+="(有新动态) ");f+=t||u.name,t&&(f+=" - ".concat(u.name));return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.ReactTitle,{title:f}),r?a.default.createElement(i.default,null,r):null)};var n,a=(n=r(0))&&n.__esModule?n:{default:n},i=function(e){if(e&&e.__esModule)return e;var t=s();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}}r.default=e,t&&t.set(e,r);return r}(r(691)),o=r(168),c=r(169),l=r(170),u=r(77);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}},781:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e.substr(1).split("&").reduce((function(e,t){if(t){var r=t.split("=");e[r[0]]=r[1]||""}return e}),{})};t.default=n},782:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.children;return a.default.createElement("div",{className:"container"},a.default.createElement("div",{className:"_3RUsQ"},t))};var n,a=(n=r(0))&&n.__esModule?n:{default:n};r(692)},791:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.onClick,r=(h=(0,n.useState)(0),p=2,function(e){if(Array.isArray(e))return e}(h)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}}(h,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),o=r[0],c=r[1],u=(0,a.useStore)(),s=function(e){return(0,i.addCaptcha)(e)(u.dispatch,u.getState)},d=!1,f=function(){var e=61;!function t(){if(0==e)return null;c(--e),setTimeout((function(){t()}),1e3)}()};var h,p;return n.default.createElement("span",{className:"a text-primary _27EiP",onClick:function(){t((function(e,t){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(d||o>0)return null;d=!0,s(e).then(l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(!0),d=!1,f();case 3:case"end":return e.stop()}}),e)})))).catch(function(){var e=l(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(!1),Toastify&&(Toastify({text:r.message,duration:3e3,backgroundColor:"linear-gradient(to right, #ff6c6c, #f66262)"}).showToast(),d=!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}(e,t)}))}},o>0?"发送成功 (".concat(o,")"):"获取验证码")};var n=function(e){if(e&&e.__esModule)return e;var t=o();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}}r.default=e,t&&t.set(e,r);return r}(r(0)),a=r(168),i=r(798);function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function c(e,t,r,n,a,i,o){try{var c=e[i](o),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){c(i,n,a,o,l,"next",e)}function l(e){c(i,n,a,o,l,"throw",e)}o(void 0)}))}}r(700)},798:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCaptcha=t.addCaptcha=void 0;var n,a=(n=r(48))&&n.__esModule?n:{default:n};function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t,r,n,a,i,o){try{var c=e[i](o),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function c(e){o(i,n,a,c,l,"next",e)}function l(e){o(i,n,a,c,l,"throw",e)}c(void 0)}))}}t.addCaptcha=function(e){var t=e.id,r=void 0===t?(new Date).getTime():t,n=e.args,o=e.fields,l=void 0===o?"success":o;return function(e,t){return new Promise(function(){var o=c(regeneratorRuntime.mark((function o(c,u){var s,d,f,h,p;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return s=t().user.accessToken||"",o.next=3,(0,a.default)({type:"mutation",apis:[{api:"addCaptcha",args:n,fields:l}],headers:s?{accessToken:s}:{}});case 3:d=o.sent,f=i(d,2),h=f[0],(p=f[1])?(p._id&&p.url&&e({type:"ADD_CAPTCHA_ID",id:r,data:p}),c(p)):u(h);case 8:case"end":return o.stop()}}),o)})));return function(e,t){return o.apply(this,arguments)}}())}};t.getCaptcha=function(e){return function(t,r){return new Promise(function(){var t=c(regeneratorRuntime.mark((function t(r,n){var o,c,l,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.default)({apis:[{api:"getCaptcha",args:e,fields:"captcha"}]});case 2:o=t.sent,c=i(o,2),l=c[0],u=c[1],l?n(l):r(u);case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())}}},804:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.onChange,r=(d=(0,n.useState)(""),f=2,function(e){if(Array.isArray(e))return e}(d)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}}(d,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),c=r[0],l=r[1],u=(0,a.useSelector)((function(e){return(0,o.getCountries)(e)})),s=(0,a.useStore)();var d,f;return(0,n.useEffect)((function(){var e;c||(l("+86"),t("+86")),0==u.length&&(0,i.loadCountries)(e)(s.dispatch,s.getState)})),n.default.createElement("select",{className:"ANdeR",defaultValue:c,onChange:function(e){return t(e.target.value)}},u.map((function(e){return n.default.createElement("option",{key:e.abbr,value:e.code},e.name," ",e.code)})))};var n=function(e){if(e&&e.__esModule)return e;var t=c();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}}r.default=e,t&&t.set(e,r);return r}(r(0)),a=r(168),i=r(808),o=r(287);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}r(704)},805:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.text,r=void 0===t?"上传图片":t,n=e.multiple,l=void 0===n||n,s=e.beforeUpload,d=void 0===s?function(){}:s,f=e.upload,h=void 0===f?function(){}:f,p=u((0,a.useState)(""),2),m=p[0],v=p[1],y=u((0,a.useState)(""),2),g=y[0],A=y[1],b=(0,o.useStore)();(0,a.useEffect)((function(){m||(0,c.getQiNiuToken)()(b.dispatch,b.getState).then((function(e){var t=u(e,2),r=(t[0],t[1]);r&&(v(r.token),A(r.url))}))}));return m?a.default.createElement(i.default,{text:r,multiple:l,accept:"image/*",token:m,onUpload:function(e){d(e),e.map((function(e){e.upload().then((function(t){t.text().then((function(t){t=JSON.parse(t),h(g+"/"+t.key,e)}))}))}))}}):a.default.createElement("span",null)};var n,a=function(e){if(e&&e.__esModule)return e;var t=l();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}}r.default=e,t&&t.set(e,r);return r}(r(0)),i=(n=r(809))&&n.__esModule?n:{default:n},o=r(168),c=r(810);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}},808:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadCountries=function(){return function(e,t){return new Promise(function(){var r,n=(r=regeneratorRuntime.mark((function r(n,i){var o,c,l,u,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!((o=t().countries)&&o.length>0)){r.next=4;break}return n([null,o]),r.abrupt("return");case 4:return r.next=6,(0,a.default)({apis:[{api:"countries",fields:"\n          code\n          name\n          abbr\n        "}]});case 6:c=r.sent,f=2,l=function(e){if(Array.isArray(e))return e}(d=c)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}}(d,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}(),u=l[0],s=l[1],u?i(u):(e({type:"SET_COUNTRIES",countries:s}),n(s));case 11:case"end":return r.stop()}var d,f}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function c(e){i(o,n,a,c,l,"next",e)}function l(e){i(o,n,a,c,l,"throw",e)}c(void 0)}))});return function(e,t){return n.apply(this,arguments)}}())}};var n,a=(n=r(48))&&n.__esModule?n:{default:n};function i(e,t,r,n,a,i,o){try{var c=e[i](o),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}},809:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.token,r=e.text,o=void 0===r?"上传图片":r,c=(e.size,e.accept),l=void 0===c?"*":c,u=e.multiple,s=void 0===u||u,d=e.onUpload,f=void 0===d?function(e){}:d,h=(v=(0,n.useState)(i.default.qiniu.uploadUrl.http),y=2,function(e){if(Array.isArray(e))return e}(v)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}}(v,y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),p=h[0],m=h[1];var v,y;(0,n.useEffect)((function(){"https:"===window.location.protocol&&m(i.default.qiniu.uploadUrl.https)}),[]);var g=function(e){if(!e||0===e.size)return null;var r=e.preview.split("/").pop()+"."+e.name.split(".").pop();return new Promise((function(n){var i=new FormData;i.append("file",e),i.append("token",t),i.append("key",r),i.append("x:filename",e.name),i.append("x:size",e.size),(0,a.default)(p,{method:"POST",body:i}).then((function(e){n(e)})).catch((function(e){n(e)}))}))};return n.default.createElement("span",{className:"_1Ic4W"},o,n.default.createElement("input",{className:"a",type:"file",accept:l,multiple:s,onChange:function(e){var t;e.preventDefault(),e.dataTransfer?t=e.dataTransfer.files:e.target&&(t=e.target.files);for(var r=s?t.length:1,n=[],a=0;a<r;a++)t[a].preview=URL.createObjectURL(t[a]),t[a].upload=function(e){return function(){return g(e)}}(t[a]),n.push(t[a]);f(n)}}))};var n=function(e){if(e&&e.__esModule)return e;var t=c();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}}r.default=e,t&&t.set(e,r);return r}(r(0)),a=o(r(705)),i=o(r(77));function o(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}r(706)},810:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getQiNiuToken=function(){return function(e,t){return new Promise(function(){var e,r=(e=regeneratorRuntime.mark((function e(r,n){var i,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.default)({apis:[{api:"qiniuToken",fields:"\n            token\n            url\n          "}],headers:{accessToken:t().user.accessToken},cache:!0});case 2:i=e.sent,u=2,o=function(e){if(Array.isArray(e))return e}(n=i)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}}(n,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}(),c=o[0],l=o[1],r(c?[c]:[null,l]);case 7:case"end":return e.stop()}var n,u}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(e){i(o,n,a,c,l,"next",e)}function l(e){i(o,n,a,c,l,"throw",e)}c(void 0)}))});return function(e,t){return r.apply(this,arguments)}}())}};var n,a=(n=r(48))&&n.__esModule?n:{default:n};function i(e,t,r,n,a,i,o){try{var c=e[i](o),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}},811:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addPhone=void 0;var n,a=(n=r(48))&&n.__esModule?n:{default:n};function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t,r,n,a,i,o){try{var c=e[i](o),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}var c,l=(c="addPhone",function(e){var t=e.args,r=void 0===t?{}:t,n=e.fields,l=void 0===n?"success":n;return function(e,t){return new Promise(function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function c(e){o(i,n,a,c,l,"next",e)}function l(e){o(i,n,a,c,l,"throw",e)}c(void 0)}))}}(regeneratorRuntime.mark((function e(n){var o,u,s,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t().user.accessToken,e.next=3,(0,a.default)({type:"mutation",apis:[{api:c,args:r,fields:l}],headers:o?{accessToken:o}:{}});case 3:u=e.sent,s=i(u,2),d=s[0],f=s[1],n(d?[d]:[null,f]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}});t.addPhone=l},875:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(s=(0,n.useState)(null),f=2,function(e){if(Array.isArray(e))return e}(s)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}}(s,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),t=e[0],r=e[1],u=(0,i.useSelector)((function(e){return(0,o.getUserInfo)(e)}));var s,f;if(!u)return null;var h=(0,i.useStore)(),p=function(e){return(0,c.loadUserInfo)(e)(h.dispatch,h.getState)},m=function(e){var t,r;(0,a.default)({img:e,selectAreaScale:.9,previews:[],imgLoadComplete:function(){},done:(t=regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e+"?imageMogr2/crop/!"+parseInt(r.width)+"x"+parseInt(r.height)+"a"+parseInt(r.x)+"a"+parseInt(r.y)+"/thumbnail/!200",t.next=3,a={avatar:n},(0,c.updateUser)(a)(h.dispatch,h.getState);case 3:p({});case 4:case"end":return t.stop()}var a}),t)})),r=function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function o(e){d(i,n,a,o,c,"next",e)}function c(e){d(i,n,a,o,c,"throw",e)}o(void 0)}))},function(e){return r.apply(this,arguments)})})};return(0,n.useEffect)((function(){r(n.default.createElement(l.default,{upload:m,text:"上传头像"}))}),[]),n.default.createElement("div",null,n.default.createElement("div",{className:"card"},n.default.createElement("div",{className:"card-header"},n.default.createElement("div",{className:"card-title"},"头像")),n.default.createElement("div",{className:"card-body"},n.default.createElement("div",{className:"_3F3_Y"},n.default.createElement("img",{src:u.avatar_url.replace("!50","!200")})),n.default.createElement("div",{className:"_2hscz"},t))))};var n=function(e){if(e&&e.__esModule)return e;var t=s();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}}r.default=e,t&&t.set(e,r);return r}(r(0)),a=u(r(876)),i=r(168),o=r(78),c=r(279),l=u(r(805));function u(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function d(e,t,r,n,a,i,o){try{var c=e[i](o),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}r(768)},876:function(e,t,r){"use strict";var n,a=function(){if("undefined"!=typeof window&&"undefined"!=typeof document){var e,t="ipad"==(e=navigator.userAgent.toLowerCase()).match(/ipad/i)||"iphone os"==e.match(/iphone os/i)||"android"==e.match(/android/i),r=document.getElementsByTagName("body")[0],n=function(){if(this.container=document.createElement("div"),d(this.container,{position:"fixed",width:"100%",height:"100%",top:"0px",left:"0px","z-index":9999999}),this.container.style.display="none",r.appendChild(this.container),!f(6)){var e=document.createElement("div");d(e,{position:"absolute",background:"#000",width:"100%",height:"100%",top:"0px",left:"0px",opacity:"0.6"}),this.container.appendChild(e)}if(this.pickerArea=document.createElement("div"),d(this.pickerArea,{position:"absolute",backgroundColor:"#000",boxShadow:"0 5px 50px #555"}),this.container.appendChild(this.pickerArea),this.originalImgSize=new o,this.img=document.createElement("img"),d(this.img,{position:"absolute",opacity:"0.6"}),this.pickerArea.appendChild(this.img),this.imgSrc="",this.clipArea=document.createElement("div"),d(this.clipArea,{position:"absolute"}),this.pickerArea.appendChild(this.clipArea),this.clipimg=document.createElement("img"),d(this.clipimg,{position:"absolute"}),this.clipArea.appendChild(this.clipimg),this.select=document.createElement("div"),d(this.select,{position:"absolute",width:"0px",height:"0px",backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==)",cursor:"move",border:"1px dashed rgba(255, 255, 255, .3)",margin:"-1px 0 0 -1px",zIndex:100}),this.pickerArea.appendChild(this.select),this.contact={leftTop:document.createElement("div"),rightTop:document.createElement("div"),rightBottom:document.createElement("div"),leftBottom:document.createElement("div"),topCenter:document.createElement("div"),rightCenter:document.createElement("div"),bottomCenter:document.createElement("div"),leftCenter:document.createElement("div")},t)this.select.appendChild(this.contact.rightBottom),d(this.contact.rightBottom,{position:"absolute",width:"40px",height:"40px",margin:"-22px 0 0 -22px","background-size":"100% 100%",backgroundImage:'url("data:image/NGf;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGNDREMkIzMEM0MDYxMUU1OEQwM0JDNDIzOTJCMzU5OSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGNDREMkIzMUM0MDYxMUU1OEQwM0JDNDIzOTJCMzU5OSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkY0NEQyQjJFQzQwNjExRTU4RDAzQkM0MjM5MkIzNTk5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkY0NEQyQjJGQzQwNjExRTU4RDAzQkM0MjM5MkIzNTk5Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+LQ0jrQAABtFJREFUeNrsmntMU1ccx3uhtEDhSuuMWMKjoKCwLARHQJYmZogKDXORxIkoIWqciQ/CEOcfEGFkaAsz7A9QTBbfTjISXBhGcKKgogYfI8MxRVoBIWALLY+WvqD7HXddGCLe2x5aN3uSk95buLe/zz2/x/ecewiLxcJ6n5oL6z1rTmAnsBPYCewEfpcbe7Y/EoRtz8NimbTpemt/f7bfdY4wzlZQUOC2efPmGJIkxVwu90MOhyNyc3Ob7+Li4oEGYnJyctxkMimNRqNCp9P9Dr1RKpU9rKg4Zporm4jZpKWVLkXcvXtHFBISsh1AkxEgk4sBfkCj0fwsl8t/WLEi7jl6MDhdGicwcelSrW9MTEwen8+XEAThZstIwOibhoaGqpqbmw+vW/e5igm4PYDZnZ1PNwUEBOSy2WwvnC4ILq9RKBQHw8KWVsOp2eFJa8+ePd4qlbIsODj4MG5Y1CAkfEJDQ0v7+nqlycnJHjbfEI3wmzqM8WydyM/PF4Db1cD/9tmjq1SqH3fs+JJ8i12zMlnt0hkZGeSRI9+dh3iNsmdZUSqVjRs2fLH9+vXrWnvGMLe393m5UChMdEQt7erqqgwKEn2Nkro9Ypj94MH9DEfBohYYGLihuflWijU6gikwUVj4jSgiImKfgwUTERkZmbtr1y5fKnDnTHi4y+WdR0Ui0Zo3XRMfH++r1WpnNALUlqWkpGQoOjraiIP6yZMnP0G5ypnu2rhcmpBKD0eAO8VbWV4shw4dUuOCRQ0e/LqsrKwQJqPMBJgrkUi2gQ5mHDdQny2FhYXquLg4A+YazUlL25SODrED+/n58YOCgj61aobCZrPc3d3nJJhB8KyFDxI3sGtR0bdiHo9HWmOUXq8ncnJy+FevXsVODTpgYXGxLJIuC11g97CwsE9s1MREXl4ev7q62hM3dFRUlBg+ODiBPQQCQRj9lQqCtX///mGYORmmzYBYMpls3qlTp3g4gRcsWLAM2YgV2MfHx5euAbt37x5Zv369DkoQSlT66dp9bGwM60oL2OaPvBAnMMfLy4tW/G7ZsmU0LS1N+6oUSaVS9cqVK/+BTk9PHwPBMIoTmLKNi1N4LDWbTb+6urpaNTLIlSF+ffz9/c07d+4cwx3Do6OjOpKch7L1U1yTh2UAXA/ArrZMQ1FsT2/l5eXeRqORlZmZOTrT3xkAS+DwMTalZTAYbFpYmwmmtLTU+/Tp014XLlzwKioqmoc8YWo7efIkD7dtdIEnh4eHtbhcEI12cXExiUBffVdTU+OJ3H5iYuLl+dmzZ3lnzpzxpnM/sA2FyQQtEUTTRnN/f79q0aJF83EAo9H29vZ+ze9AmHjodDpCLBYbysrKSE9PT1oLd319fS/ornfRHWGDQqHowZloUPKCuB0Gbf6v72/fvu2OajWTnQmdnZ3PkI04gfWNjU2tuLNramqqDtxYgyYXttyntvbSfWQjTmBdRUVFy+DgoBY3dGJi4jjEsxomF1ZB9/T0qKuqqv5ANmJ1aWjKpqamR3Mx40FlyWw2W3VtQ0PDQ/hQvWl9y1pglAGHiotLamESMIETFmKWm5ubywdgxkUYEpxJKpXVwqGaRfPNBBPlpAHjfrty5Uo7LtiWlhbOgQMH+GgmZc31UMpa29vb/0TaYy7WtJBRvkuWLEm6d68llyRJLsuBTaVS6ZYv/7igu7u7Hk5fTB1hXGta6IZDHR0dD8CN6h0JC4rMcvBgfi3AtjJxZ6bALCoxdIEMrL548WK7o4DPnTvXChr8FzjsRmsLjESPFW8ekDoTQhkRX7vWkBUbGyu0JyzkEEViYtL3IEFvwWn/TJIS95sHVD/69Xr9vTVr1lbcuHGj116wdXV1z5KTPzsOsPepuGVcMaxdeXjp2iMjIzcTElYfraysfDyXm1RRzJ44ceJRUpLkGOiBO0hvMHVlW4FZlJRTgAE3N25MPbZ3b2YDKDEjbtiBgYHxrVu31UE/DuDIjRV0RQauGH5t+Qf6QujhQqEwWiaTJqSkpARDjLvaAgqiwgye05Gdva9erVYjF26n3PitI2uXLQ/Q0dw1AC0HLV68+KPs7K9iJRJJgL+/P6MVSrlcPgaCQgGq7k5vb28bBYpcmPac126bWlh/v/IQQPeDLkIPYNWqVaGrVycEhIeHzw8MDCQFAgGXx+O9HH2tVjuhVCr1UE9H2traBi9frnsGer0D5QfoaMrXR9VZE+sd29QyEzhJwX9AdXSMVjg8piw8IJBxavQQmJLqGugjTEEdBTw9KXIoSA/q2G1KspygypyBSoLjVEKyac+iI4Ed0px7LemO8P+xOTeIO4GdwE7g/1T7S4ABACYxlc/6YtCdAAAAAElFTkSuQmCC")'});else for(var n in this.contact)this.select.appendChild(this.contact[n]),d(this.contact[n],{position:"absolute",width:f(6)||f(7)?"6px":"4px",height:f(6)||f(7)?"6px":"4px",border:"1px solid #000",background:"#fff",margin:"-3px 0 0 -3px",fontSize:"0px",lineHeight:"0",opacity:"0.5"});d(this.contact.leftTop,{top:"0%",left:"0%",cursor:"nw-resize","z-index":"20"}),d(this.contact.rightTop,{top:"0%",left:"100%",cursor:"ne-resize","z-index":"20"}),d(this.contact.rightBottom,{top:"100%",left:"100%",cursor:"se-resize","z-index":"20"}),d(this.contact.leftBottom,{top:"100%",left:"0%",cursor:"sw-resize","z-index":"20"}),d(this.contact.topCenter,{top:"0%",left:"50%",cursor:"n-resize","z-index":"10"}),d(this.contact.rightCenter,{top:"50%",left:"100%",cursor:"e-resize","z-index":"10"}),d(this.contact.bottomCenter,{top:"100%",left:"50%",cursor:"s-resize","z-index":"10"}),d(this.contact.leftCenter,{top:"50%",left:"0%",cursor:"w-resize","z-index":"10"}),this.previews=null,this.previewArea=document.createElement("div"),d(this.previewArea,{position:"absolute",top:"0%",left:"100%"}),this.pickerArea.appendChild(this.previewArea),this.bottomBar=document.createElement("div"),d(this.bottomBar,{position:"absolute",backgroundColor:"#fff",width:"100%",height:"40px",top:"100%",left:"0px",zIndex:f(6)||f(7)?"-1":""});var a=document.createElement("a"),c=document.createElement("a");a.innerHTML="Cancel",c.innerHTML="Done",this.bottomBar.appendChild(a),this.bottomBar.appendChild(c),this.pickerArea.appendChild(this.bottomBar),a.href="javascript:;",c.href="javascript:;";var u=this;c.onclick=function(){if(u.doneCallback){var e=l(u.selectArea.x/u.dragArea.width*u.originalImgSize.width),t=l(u.selectArea.y/u.dragArea.height*u.originalImgSize.height),r=l(u.selectArea.width/u.dragArea.width*u.originalImgSize.width),n=l(u.selectArea.height/u.dragArea.height*u.originalImgSize.height);u.doneCallback({x:e,y:t,width:r<=0?1:r,height:n<=0?1:n})}u.container.style.display="none"},a.onclick=function(){u.container.style.display="none"},d(a,{position:"absolute",width:"50%",textAlign:"center",fontSize:"14px",color:"#333",height:"40px",lineHeight:"40px"}),d(c,{position:"absolute",left:"50%",width:"50%",textAlign:"center",fontSize:"14px",color:"#333",height:"40px",lineHeight:"40px"}),c.onmouseover=a.onmouseover=function(){d(this,{backgroundColor:"#efefef"})},c.onmouseout=a.onmouseout=function(){d(this,{backgroundColor:"#fff"})},this.doneCallback=null,this.zoomMode="1:1",this.radian=0,this.selectAreaScale=.8,this.dragArea=new o(0,0,0,0),this.selectArea=new o(0,0,0,0),this.mouseInSelectAreaPoint=new i(0,0),this.handleMoveSelectArea=!1,this.fixedPosition=new i(0,0),this.fixedContact=new i(0,0),this.currentContact="",this.handleContack=!1};n.prototype.start=function(){this.img.src=this.imgSrc+"?_r="+(new Date).getTime();var e=this;this.img.onload=function(){e.container.style.display="",e.init(),e.updateRoundElements(),e.imgLoadComplete&&e.imgLoadComplete()}},n.prototype.updatePickerArea=function(){d(this.pickerArea,{width:this.dragArea.width+"px",height:this.dragArea.height+"px",left:"50%",top:"50%",margin:-this.dragArea.height/2-30+"px 0 0 "+-this.dragArea.width/2+"px"})},n.prototype.init=function(){this.originalImgSize.width=this.img.width,this.originalImgSize.height=this.img.height;var e=1,r=t?320:500;(e=r/this.img.width)*this.img.height>r&&(e=r/this.img.height),this.dragArea.width=this.img.width*e,this.dragArea.height=this.img.height*e;var n=this.dragArea.width<this.dragArea.height?l(this.dragArea.width*this.selectAreaScale):l(this.dragArea.height*this.selectAreaScale);this.selectArea.width=n,this.selectArea.height=n,this.selectArea.x=l(this.dragArea.width/2-this.selectArea.width/2),this.selectArea.y=l(this.dragArea.height/2-this.selectArea.height/2),this.clipimg.src=this.imgSrc+"?_r="+(new Date).getTime(),this.clipimg.style.width=this.dragArea.width+"px",this.clipimg.style.height=this.dragArea.height+"px",this.img.style.width=this.dragArea.width+"px",this.img.style.height=this.dragArea.height+"px",this.addEvent(),this.updatePickerArea(),this.previewArea.innerHTML="";for(var a=0,i=this.previews.length,o=0;a<i;a++){var c=this.previews[a],u=document.createElement("div");d(u,{position:"absolute",top:o+"px",marginLeft:"15px",width:c.width+"px",height:c.height+"px",backgroundImage:"url("+this.imgSrc+")",display:f(6)||f(7)||f(8)?"none":""}),this.previewArea.appendChild(u),this.previews[a]=u,o+=c.height+10}this.updatePreviews(),this.updateSelectArea(),this.updateClipArea()},n.prototype.addEvent=function(){var e=this;t?(s(this.select,"touchstart",(function(t){t.preventDefault(),e.handleMoveSelectArea=!0;var r=e.getRelativelyPosition(t.touches[0]);e.mouseInSelectAreaPoint.x=r.x-e.selectArea.x,e.mouseInSelectAreaPoint.y=r.y-e.selectArea.y})),s(r,"touchend",(function(t){e.handleMoveSelectArea=!1,e.handleContack=!1})),s(this.contact.leftTop,"touchstart",(function(t){e.resizeSelectArea(t,{x:e.selectArea.x+e.selectArea.width,y:e.selectArea.y+e.selectArea.height},"leftTop")})),s(this.contact.rightTop,"touchstart",(function(t){e.resizeSelectArea(t,{x:e.selectArea.x,y:e.selectArea.y+e.selectArea.height},"rightTop")})),s(this.contact.leftBottom,"touchstart",(function(t){e.resizeSelectArea(t,{x:e.selectArea.x+e.selectArea.width,y:e.selectArea.y},"leftBottom")})),s(this.contact.rightBottom,"touchstart",(function(t){e.resizeSelectArea(t,{x:e.selectArea.x,y:e.selectArea.y},"rightBottom")})),s(this.contact.topCenter,"touchstart",(function(t){e.resizeSelectArea(t,{x:e.selectArea.x+e.selectArea.width/2,y:e.selectArea.y+e.selectArea.height},"topCenter")})),s(this.contact.rightCenter,"touchstart",(function(t){e.resizeSelectArea(t,{x:e.selectArea.x,y:e.selectArea.y+e.selectArea.height/2},"rightCenter")})),s(this.contact.bottomCenter,"touchstart",(function(t){e.resizeSelectArea(t,{x:e.selectArea.x+e.selectArea.width/2,y:e.selectArea.y},"bottomCenter")})),s(this.contact.leftCenter,"touchstart",(function(t){e.resizeSelectArea(t,{x:e.selectArea.x+e.selectArea.width,y:e.selectArea.y+e.selectArea.height/2},"leftCenter")})),s(r,"touchmove",(function(t){"none"!=e.container.style.display&&t.preventDefault(),e.handleMoveSelectArea&&e.mousemove(t.touches[0]),e.handleContack&&("1:1"===e.zoomMode?e.equalRatio(t.touches[0]):e.freeSize(t.touches[0])),(e.handleMoveSelectArea||e.handleContack)&&(e.updateSelectArea(),e.updatePreviews(),e.updateClipArea())}))):(s(this.select,"mousedown",(function(t){var r=t.button;if(null==t.which&&r--,0==r){e.handleMoveSelectArea=!0;var n=e.getRelativelyPosition(t);e.mouseInSelectAreaPoint.x=n.x-e.selectArea.x,e.mouseInSelectAreaPoint.y=n.y-e.selectArea.y}})),s(r,"mouseup",(function(t){e.handleMoveSelectArea=!1,e.handleContack=!1})),s(r,"resize",(function(){e.updatePickerArea()})),s(this.contact.leftTop,"mousedown",(function(t){e.resizeSelectArea(t,{x:e.selectArea.x+e.selectArea.width,y:e.selectArea.y+e.selectArea.height},"leftTop")})),s(this.contact.rightTop,"mousedown",(function(t){e.resizeSelectArea(t,{x:e.selectArea.x,y:e.selectArea.y+e.selectArea.height},"rightTop")})),s(this.contact.leftBottom,"mousedown",(function(t){e.resizeSelectArea(t,{x:e.selectArea.x+e.selectArea.width,y:e.selectArea.y},"leftBottom")})),s(this.contact.rightBottom,"mousedown",(function(t){e.resizeSelectArea(t,{x:e.selectArea.x,y:e.selectArea.y},"rightBottom")})),s(this.contact.topCenter,"mousedown",(function(t){e.resizeSelectArea(t,{x:e.selectArea.x+e.selectArea.width/2,y:e.selectArea.y+e.selectArea.height},"topCenter")})),s(this.contact.rightCenter,"mousedown",(function(t){e.resizeSelectArea(t,{x:e.selectArea.x,y:e.selectArea.y+e.selectArea.height/2},"rightCenter")})),s(this.contact.bottomCenter,"mousedown",(function(t){e.resizeSelectArea(t,{x:e.selectArea.x+e.selectArea.width/2,y:e.selectArea.y},"bottomCenter")})),s(this.contact.leftCenter,"mousedown",(function(t){e.resizeSelectArea(t,{x:e.selectArea.x+e.selectArea.width,y:e.selectArea.y+e.selectArea.height/2},"leftCenter")})),s(r,"mousemove",(function(t){e.handleMoveSelectArea&&e.mousemove(t),e.handleContack&&("1:1"===e.zoomMode?e.equalRatio(t):e.freeSize(t)),(e.handleMoveSelectArea||e.handleContack)&&(e.updateSelectArea(),e.updatePreviews(),e.updateClipArea())})));var n=function(){return"none"===e.container.style.display};document.oncontextmenu=n,document.onselectstart=n,document.ondragstart=n},n.prototype.getRelativelyPosition=function(e){var t=new i(e.clientX,e.clientY);return t.x-=this.pickerArea.offsetLeft,t.y-=this.pickerArea.offsetTop,t.y=t.y<=0?0:t.y,t.y=t.y>=this.dragArea.height?this.dragArea.height:t.y,t.x=t.x<=0?0:t.x,t.x=t.x>=this.dragArea.width?this.dragArea.width:t.x,t},n.prototype.mousemove=function(e){var t=this.getRelativelyPosition(e);t.x-=this.mouseInSelectAreaPoint.x,t.y-=this.mouseInSelectAreaPoint.y,t.y=t.y<=0?0:t.y,t.y=t.y>=this.dragArea.height-this.selectArea.height?this.dragArea.height-this.selectArea.height:t.y,t.x=t.x<=0?0:t.x,t.x=t.x>=this.dragArea.width-this.selectArea.width?this.dragArea.width-this.selectArea.width:t.x,this.selectArea.y=t.y,this.selectArea.x=t.x},n.prototype.resizeSelectArea=function(e,t,r){e.preventDefault(),this.handleContack=!0,this.fixedPosition.x=l(t.x),this.fixedPosition.y=l(t.y),this.currentContact=r||"",u(this)},n.prototype.freeSize=function(e){var t=this.getRelativelyPosition(e),r=Math.abs(t.x-this.fixedPosition.x),n=Math.abs(t.y-this.fixedPosition.y);"leftCenter"==this.currentContact||"rightCenter"==this.currentContact?(this.selectArea.width=r,this.selectArea.x=t.x>this.fixedPosition.x?this.fixedPosition.x:this.fixedPosition.x-r,t.y-=this.selectArea.height):"topCenter"==this.currentContact||"bottomCenter"==this.currentContact?(this.selectArea.height=n,this.selectArea.y=t.y>this.fixedPosition.y?this.fixedPosition.y:this.fixedPosition.y-n,t.x-=this.selectArea.width):(t.x>this.fixedPosition.x&&(t.x=this.fixedPosition.x),t.y<this.fixedPosition.y&&(t.y=this.fixedPosition.y),this.selectArea.width=r,this.selectArea.height=n,t.y-=this.selectArea.height,this.selectArea.x=t.x,this.selectArea.y=t.y)},n.prototype.equalRatio=function(e){var t=this.getRelativelyPosition(e);if("leftCenter"===this.currentContact||"rightCenter"===this.currentContact||"bottomCenter"===this.currentContact||"topCenter"===this.currentContact){var r="leftCenter"==this.currentContact||"rightCenter"==this.currentContact?Math.abs(t.x-this.fixedPosition.x):Math.abs(t.y-this.fixedPosition.y);if("leftCenter"==this.currentContact||"rightCenter"==this.currentContact){var n=~~Math.abs(r/2);this.fixedPosition.y-n<=0?r=2*this.fixedPosition.y:this.fixedPosition.y+n>this.dragArea.height&&(r=2*(this.dragArea.height-this.fixedPosition.y))}else{n=~~Math.abs(r/2);this.fixedPosition.x-n<=0?r=2*this.fixedPosition.x:this.fixedPosition.x+n>this.dragArea.width&&(r=2*(this.dragArea.width-this.fixedPosition.x))}return this.selectArea.width=r,this.selectArea.height=r,void("leftCenter"==this.currentContact||"rightCenter"==this.currentContact?(t.x>this.fixedPosition.x?this.selectArea.x=this.fixedPosition.x:this.selectArea.x=this.fixedPosition.x-r,this.selectArea.y=this.fixedPosition.y-l(r/2)):(t.y>=this.fixedPosition.y?this.selectArea.y=this.fixedPosition.y:this.selectArea.y=this.fixedPosition.y-r,this.selectArea.x=this.fixedPosition.x-l(r/2)))}var a=Math.abs(t.x-this.fixedPosition.x),o=Math.abs(t.y-this.fixedPosition.y);r=a>o?a:o;if(this.selectArea.width=r,this.selectArea.height=r,this.selectArea.y=this.fixedPosition.y,this.selectArea.x=this.fixedPosition.x-r,t.x>this.fixedPosition.x&&(this.selectArea.x+=this.selectArea.width),t.y<this.fixedPosition.y&&(this.selectArea.y=this.fixedPosition.y-this.selectArea.width),!function(e,t){switch(!0){case!c(new i(e.x,e.y),t):case!c(new i(e.x+e.width,e.y+e.height),t):case!c(new i(e.x+e.width,e.y),t):case!c(new i(e.x,e.y+e.height),t):break;default:return!0}return!1}(this.selectArea,this.dragArea)){var u=this.fixedPosition.x,s=this.fixedPosition.y,d=this.dragArea.width-this.fixedPosition.x,f=this.dragArea.height-this.fixedPosition.y;if(t.x===this.fixedPosition.x&&t.y===this.fixedPosition.y)r=0;else if(t.x===this.fixedPosition.x)r=u<d?u:d;else if(t.y===this.fixedPosition.y)r=s<f?s:f;else if(t.x>=this.fixedPosition.x&&t.y>=this.fixedPosition.y)r=d<f?d:f;else if(t.x<=this.fixedPosition.x&&t.y>=this.fixedPosition.y)r=u<f?u:f;else if(t.x<=this.fixedPosition.x&&t.y<=this.fixedPosition.y)r=u<s?u:s;else if(t.x>=this.fixedPosition.x&&t.y<=this.fixedPosition.y)r=d<s?d:s;this.selectArea.width=r,this.selectArea.height=r,this.selectArea.y=this.fixedPosition.y,this.selectArea.x=this.fixedPosition.x-r,t.x>=this.fixedPosition.x&&(this.selectArea.x+=this.selectArea.width),t.y<=this.fixedPosition.y&&(this.selectArea.y=this.fixedPosition.y-this.selectArea.width)}},n.prototype.updateSelectArea=function(){d(this.select,{left:this.selectArea.x+"px",top:this.selectArea.y+"px",width:this.selectArea.width+"px",height:this.selectArea.height+"px"})},n.prototype.updateClipArea=function(){d(this.clipArea,{left:this.selectArea.x+"px",top:this.selectArea.y+"px",width:this.selectArea.width+"px",height:this.selectArea.height+"px"}),d(this.clipimg,{left:-this.selectArea.x+"px",top:-this.selectArea.y+"px",clip:"rect("+this.selectArea.y+"px, "+(this.selectArea.x+this.selectArea.width)+"px, "+(this.selectArea.y+this.selectArea.height)+"px, "+this.selectArea.x+"px)"})},n.prototype.updatePreviews=function(){for(var e in this.previews){var t=this.previews[e],r=t.offsetWidth/this.selectArea.width,n=t.offsetHeight/this.selectArea.height;t.style.backgroundPosition=l(r*-this.selectArea.x)+"px "+l(n*-this.selectArea.y)+"px",t.style.backgroundSize=l(this.dragArea.width*r)+"px "+l(this.dragArea.height*n)+"px"}},n.prototype.updateRoundElements=function(){for(var e in 50===this.radian&&(this.contact.leftTop.style.display="none",this.contact.rightTop.style.display="none",this.contact.rightBottom.style.display="none",this.contact.leftBottom.style.display="none"),this.previews)this.previews[e].style.borderRadius=this.radian+"%";this.clipArea.style.borderRadius=this.radian+"%",this.clipArea.style.overflow="hidden",this.select.style.borderRadius=this.radian+"%"};var a=null;return function(e){a&&(a=null),(a=new n).imgSrc=e.img,a.doneCallback=e.done,a.imgLoadComplete=e.imgLoadComplete||null,a.radian=e.radian?e.radian:0,a.selectAreaScale=e.selectAreaScale?e.selectAreaScale:.8,a.previews=e.previews?e.previews:[{width:100,height:100},{width:50,height:50},{width:30,height:30}],a.zoomMode=e.zoomMode?e.zoomMode:"1:1",t&&(a.previews=[]),a.start()}}function i(e,t){this.x=e||0,this.y=t||0}function o(e,t,r,n){this.x=e||0,this.y=t||0,this.width=r||0,this.height=n||0}function c(e,t){return e.x>=t.x&&e.y>=t.y&&e.x<=t.x+t.width&&e.y<=t.y+t.height}function l(e){return~~(.5+e)}function u(e){e&&e.stopPropagation?e.stopPropagation():window.event.cancelBubble=!0}function s(e,t,r){var n=function(e){!function(e){var t=(n=document.documentElement&&document.documentElement.scrollTop?document.documentElement:document.body,new i(n.scrollLeft,n.scrollTop)),r=e||window.event;var n;new i(r.pageX||r.clientX+t.x,r.clientY+t.y)}(e);var t=e||window.event;r(t),u(t)};return e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)}function d(e,t){for(var r in t)try{e.style[r]=t[r],"opacity"===r&&(e.style.filter="alpha(opacity="+100*t[r]+")")}catch(e){console.log("set style error: "+r+":"+t[r])}}function f(e){var t=document.createElement("b");return t.innerHTML="\x3c!--[if IE "+e+"]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length}}();void 0===(n=function(){return a}.call(t,r,t,e))||(e.exports=n)},877:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var t=(0,n.createRef)(),r=(0,a.useStore)(),c=s((0,n.useState)(!1),2),l=c[0],d=c[1],f=s((0,n.useState)(!1),2),h=f[0],p=f[1],m=(0,a.useSelector)((function(e){return(0,i.getUserInfo)(e)})),v=function(){var e=u(regeneratorRuntime.mark((function e(){var n,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.current.value)!=m.brief){e.next=3;break}return e.abrupt("return",p(!1));case 3:return d(!0),e.next=6,(0,o.updateUser)({brief:n})(r.dispatch,r.getState);case 6:i=e.sent,c=s(i,2),a=c[0],c[1],a?Toastify({text:a.message,duration:3e3,backgroundColor:"linear-gradient(to right, #ff6c6c, #f66262)"}).showToast():(Toastify({text:"修改成功",duration:3e3,backgroundColor:"linear-gradient(to right, #50c64a, #40aa33)"}).showToast(),(0,o.loadUserInfo)({})(r.dispatch,r.getState),p(!1)),d(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var t=u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(!0);case 2:e("#brief").focus();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=n.default.createElement("div",{className:"d-flex justify-content-between"},n.default.createElement("div",{className:"w-75"},m.brief||"未知签名"),n.default.createElement("div",null,n.default.createElement("span",{className:"btn btn-outline-primary rounded-pill btn-sm",onClick:y},"修改")));h&&(g=n.default.createElement("div",null,n.default.createElement("div",{className:"form-group"},n.default.createElement("input",{id:"brief",className:"form-control",defaultValue:m.brief,ref:t})),l?n.default.createElement("span",{className:"btn btn-outline-primary rounded-pill btn-sm"},"提交中..."):n.default.createElement("span",{className:"btn btn-outline-primary rounded-pill btn-sm",onClick:v},"提交")));return n.default.createElement("div",{className:"card"},n.default.createElement("div",{className:"card-header"},n.default.createElement("div",{className:"card-title"},"个性签名")),n.default.createElement("div",{className:"card-body"},g))};var n=function(e){if(e&&e.__esModule)return e;var t=c();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}}r.default=e,t&&t.set(e,r);return r}(r(0)),a=r(168),i=r(78),o=r(279);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e,t,r,n,a,i,o){try{var c=e[i](o),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){l(i,n,a,o,c,"next",e)}function c(e){l(i,n,a,o,c,"throw",e)}o(void 0)}))}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}}).call(this,r(68))},878:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var t=(0,a.createRef)(),r=(0,a.createRef)(),n=f((0,a.useState)(!1),2),s=n[0],h=n[1],p=f((0,a.useState)(!1),2),m=p[0],v=p[1],y=(0,i.useSelector)((function(e){return(0,o.getUserInfo)(e)})),g=(0,i.useSelector)((function(e){return(0,o.getUnlockToken)(e)})),A=(0,i.useStore)(),b=function(e){return(0,c.loadUserInfo)(e)(A.dispatch,A.getState)},w=function(e){var r=t.current;if(!r.value)return r.focus();e({id:y.email?"reset-email":"binding-email",args:{email:r.value,type:y.email?"reset-email":"binding-email"},fields:"success"})},x=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n,a,i,o,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.current,a=r.current,n.value){e.next=4;break}return e.abrupt("return",n.focus());case 4:if(a.value){e.next=6;break}return e.abrupt("return",a.focus());case 6:return v(!0),e.next=9,s={args:{email:n.value,captcha:a.value,unlock_token:g||""}},(0,l.addEmail)(s)(A.dispatch,A.getState);case 9:c=e.sent,u=f(c,2),i=u[0],o=u[1],v(!1),o&&o.success?(Toastify({text:"邮箱绑定成功",duration:3e3,backgroundColor:"linear-gradient(to right, #50c64a, #40aa33)"}).showToast(),b({}),h(!1)):Toastify({text:i&&i.message?i.message:i,duration:3e3,backgroundColor:"linear-gradient(to right, #ff6c6c, #f66262)"}).showToast();case 15:case"end":return e.stop()}var s}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){d(i,n,a,o,c,"next",e)}function c(e){d(i,n,a,o,c,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}(),E=function(){g?h(!0):e("#unlock-token-modal").modal({show:!0},{complete:function(e){e&&h(!0)}})};return a.default.createElement("div",null,a.default.createElement("div",{className:"card"},a.default.createElement("div",{className:"card-header"},a.default.createElement("div",{className:"card-title"},"邮箱")),a.default.createElement("div",{className:"card-body"},y.email||y.phone?s?a.default.createElement("div",null,a.default.createElement("div",{className:"form-group"},a.default.createElement("input",{className:"form-control",type:"text",placeholder:"请输入新的邮箱",ref:t})),a.default.createElement("div",{className:"form-group"},a.default.createElement("input",{className:"form-control",type:"text",placeholder:"请输入验证码",ref:r}),a.default.createElement("div",null,a.default.createElement(u.default,{onClick:w}))),m?a.default.createElement("span",{className:"btn btn-outline-primary rounded-pill btn-sm"},"提交中..."):a.default.createElement("span",{className:"btn btn-outline-primary rounded-pill btn-sm",onClick:x},"提交")):s?void 0:a.default.createElement("div",{className:"d-flex justify-content-between"},a.default.createElement("div",null,y.email?y.email:"未绑定"),a.default.createElement("span",{className:"btn btn-outline-primary rounded-pill btn-sm",onClick:E},y.email?"修改":"绑定")):a.default.createElement("div",{className:"d-flex justify-content-between"},a.default.createElement("div",null,"未绑定"),a.default.createElement("span",{className:"btn btn-outline-primary rounded-pill btn-sm",onClick:function(){e("#binding-phone").modal({show:!0},{})}},"绑定")))))};var n,a=function(e){if(e&&e.__esModule)return e;var t=s();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}}r.default=e,t&&t.set(e,r);return r}(r(0)),i=r(168),o=r(78),c=r(279),l=r(879),u=(n=r(791))&&n.__esModule?n:{default:n};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function d(e,t,r,n,a,i,o){try{var c=e[i](o),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}}).call(this,r(68))},879:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addEmail=void 0;var n,a=(n=r(48))&&n.__esModule?n:{default:n};function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t,r,n,a,i,o){try{var c=e[i](o),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}t.addEmail=function(e){var t=e.args;return function(e,r){return new Promise(function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var o,c,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.default)({type:"mutation",apis:[{api:"addEmail",args:t,fields:"success"}],headers:{accessToken:r().user.accessToken}});case 2:o=e.sent,c=i(o,2),l=c[0],u=c[1],n([l,u]);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function c(e){o(i,n,a,c,l,"next",e)}function l(e){o(i,n,a,c,l,"throw",e)}c(void 0)}))});return function(e){return n.apply(this,arguments)}}())}}},880:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=u((0,n.useState)(!1),2),t=e[0],r=e[1],c=(0,a.useSelector)((function(e){return(0,i.getUserInfo)(e)})),s=(0,a.useStore)(),d=function(e){return(0,o.loadUserInfo)(e)(s.dispatch,s.getState)},f=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&1==c.gender||!t&&0==c.gender)){e.next=3;break}return r(!1),e.abrupt("return");case 3:return e.next=5,l={gender:t?1:0},(0,o.updateUser)(l)(s.dispatch,s.getState);case 5:a=e.sent,i=u(a,2),n=i[0],i[1],n?Toastify({text:n.message,duration:3e3,backgroundColor:"linear-gradient(to right, #ff6c6c, #f66262)"}).showToast():(Toastify({text:"修改成功",duration:3e3,backgroundColor:"linear-gradient(to right, #50c64a, #40aa33)"}).showToast(),d({}),r(!1));case 10:case"end":return e.stop()}var l}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){l(i,n,a,o,c,"next",e)}function c(e){l(i,n,a,o,c,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}();return n.default.createElement("div",null,n.default.createElement("div",{className:"card"},n.default.createElement("div",{className:"card-header"},n.default.createElement("div",{className:"card-title"},"性别")),n.default.createElement("div",{className:"card-body"},t?n.default.createElement("div",{className:"list-group"},n.default.createElement("button",{type:"button",className:"list-group-item list-group-item-action ".concat(1===c.gender?"active":""),onClick:function(){f(!0)}},"男"),n.default.createElement("button",{type:"button",className:"list-group-item list-group-item-action ".concat(0===c.gender?"active":""),onClick:function(){f(!1)}},"女")):n.default.createElement("div",{className:"d-flex justify-content-between"},n.default.createElement("div",null,0===c.gender?"女":null,1===c.gender?"男":null),n.default.createElement("span",{className:"btn btn-outline-primary rounded-pill btn-sm",onClick:function(){r(!0)}},"修改")))))};var n=function(e){if(e&&e.__esModule)return e;var t=c();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}}r.default=e,t&&t.set(e,r);return r}(r(0)),a=r(168),i=r(78),o=r(279);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e,t,r,n,a,i,o){try{var c=e[i](o),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}},881:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,n.createRef)(),t=u((0,n.useState)(!1),2),r=t[0],c=t[1],s=u((0,n.useState)(!1),2),d=s[0],f=s[1],h=(0,a.useSelector)((function(e){return(0,i.getUserInfo)(e)})),p=(0,a.useStore)(),m=function(e){return(0,o.loadUserInfo)(e)(p.dispatch,p.getState)},v=function(){var t,r=(t=regeneratorRuntime.mark((function t(){var r,n,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=e.current).value){t.next=4;break}return r.focus(),t.abrupt("return");case 4:if(h.nickname!=r.value){t.next=7;break}return c(!1),t.abrupt("return");case 7:return f(!0),t.next=10,l={nickname:r.value},(0,o.updateUser)(l)(p.dispatch,p.getState);case 10:a=t.sent,i=u(a,1),(n=i[0])?Toastify({text:n.message,duration:3e3,backgroundColor:"linear-gradient(to right, #ff6c6c, #f66262)"}).showToast():(Toastify({text:"修改成功",duration:3e3,backgroundColor:"linear-gradient(to right, #50c64a, #40aa33)"}).showToast(),m({}),c(!1)),f(!1);case 15:case"end":return t.stop()}var l}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function o(e){l(i,n,a,o,c,"next",e)}function c(e){l(i,n,a,o,c,"throw",e)}o(void 0)}))});return function(){return r.apply(this,arguments)}}();return n.default.createElement("div",null,n.default.createElement("div",{className:"card"},n.default.createElement("div",{className:"card-header"},n.default.createElement("div",{className:"card-title"},"名字")),n.default.createElement("div",{className:"card-body"},r?n.default.createElement("div",null,n.default.createElement("div",null,n.default.createElement("input",{type:"text",className:"form-control",defaultValue:h.nickname,ref:e,placeholder:"请输入你的名字"})),n.default.createElement("br",null),d?n.default.createElement("span",{className:"btn btn-outline-primary rounded-pill btn-sm"},"提交中..."):n.default.createElement("span",{className:"btn btn-outline-primary rounded-pill btn-sm",onClick:v},"提交")):n.default.createElement("div",{className:"d-flex justify-content-between"},n.default.createElement("div",null,h.nickname||""),n.default.createElement("span",{className:"btn btn-outline-primary rounded-pill btn-sm",onClick:function(){c(!0)}},"修改")))))};var n=function(e){if(e&&e.__esModule)return e;var t=c();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}}r.default=e,t&&t.set(e,r);return r}(r(0)),a=r(168),i=r(78),o=r(279);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e,t,r,n,a,i,o){try{var c=e[i](o),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}},882:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,o.useSelector)((function(e){return(0,c.getUserInfo)(e)})),t=(0,o.useSelector)((function(e){return(0,c.getAccessToken)(e)})),r=(0,o.useStore)(),n=function(e){return(0,l.loadUserInfo)(e)(r.dispatch,r.getState)},d=function(){var a,o=(a=regeneratorRuntime.mark((function a(o){var c,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e[o]){a.next=13;break}if(!confirm("您确认解除 ".concat(o," 的绑定吗？"))){a.next=11;break}return a.next=4,f={args:{name:o}},(0,u.oAuthUnbinding)(f)(r.dispatch,r.getState);case 4:return c=a.sent,d=2,(l=function(e){if(Array.isArray(e))return e}(s=c)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}}(s,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}())[0],l[1],a.next=10,n({});case 10:Toastify({text:"解除成功",duration:3e3,backgroundColor:"linear-gradient(to right, #50c64a, #40aa33)"}).showToast();case 11:a.next=14;break;case 13:confirm("您确认绑定 ".concat(o," 吗？"))&&(window.location.href="".concat(i.api.domain,"/oauth/").concat(o,"?access_token=").concat(t));case 14:case"end":return a.stop()}var s,d,f}),a)})),function(){var e=this,t=arguments;return new Promise((function(r,n){var i=a.apply(e,t);function o(e){s(i,r,n,o,c,"next",e)}function c(e){s(i,r,n,o,c,"throw",e)}o(void 0)}))});return function(e){return o.apply(this,arguments)}}(),f=[];i.social.weibo&&f.push(a.default.createElement(a.default.Fragment,null,a.default.createElement("div",null,"微博"),a.default.createElement("div",null,a.default.createElement("span",{className:"a",onClick:function(){d("weibo")}},e.weibo?"已绑定":"未绑定"))));i.social.qq&&f.push(a.default.createElement(a.default.Fragment,null,a.default.createElement("div",null,"QQ"),a.default.createElement("div",null,a.default.createElement("span",{className:"a",onClick:function(){d("qq")}},e.qq?"已绑定":"未绑定"))));i.social.github&&f.push(a.default.createElement(a.default.Fragment,null,a.default.createElement("div",null,"GitHub"),a.default.createElement("div",null,a.default.createElement("span",{className:"a",onClick:function(){d("github")}},e.github?"已绑定":"未绑定"))));i.social.wechat&&f.push(a.default.createElement(a.default.Fragment,null,a.default.createElement("div",null,"微信"),a.default.createElement("div",null,a.default.createElement("span",{className:"a",onClick:function(){d("wechat")}},e.wechat?"已绑定":"未绑定"))));return a.default.createElement("div",{className:"card"},a.default.createElement("div",{className:"card-header"},a.default.createElement("div",{className:"card-title"},"第三方帐号")),a.default.createElement("div",{className:"card-body",style:{overflow:"hidden"}},a.default.createElement("div",{className:"row"},f.map((function(e,t){return a.default.createElement("div",{key:t,className:"col-".concat(12/f.length)},e)})))))};var n,a=(n=r(0))&&n.__esModule?n:{default:n},i=r(77),o=r(168),c=r(78),l=r(279),u=r(883);function s(e,t,r,n,a,i,o){try{var c=e[i](o),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}},883:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QQOAuth=t.oAuthUnbinding=void 0;var n,a=(n=r(48))&&n.__esModule?n:{default:n};function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t,r,n,a,i,o){try{var c=e[i](o),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function c(e){o(i,n,a,c,l,"next",e)}function l(e){o(i,n,a,c,l,"throw",e)}c(void 0)}))}}t.oAuthUnbinding=function(e){var t=e.args;return function(e,r){return new Promise(function(){var e=c(regeneratorRuntime.mark((function e(n){var o,c,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.default)({type:"mutation",apis:[{api:"oAuthUnbinding",args:t,fields:"success"}],headers:{accessToken:r().user.accessToken}});case 2:o=e.sent,c=i(o,2),l=c[0],u=c[1],n(l?[l]:[null,u]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}};t.QQOAuth=function(e){return function(t,r){return new Promise(function(){var t=c(regeneratorRuntime.mark((function t(n){var o,c,l,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.default)({type:"mutation",apis:[{api:"QQOAuth",args:{access_token:e.access_token,expires_in:parseInt(e.expires_in)+"",oauth_consumer_key:e.oauth_consumer_key,openid:e.openid},fields:"\n            success\n            access_token\n            expires\n          "}],headers:{accessToken:r().user.accessToken}});case 2:o=t.sent,c=i(o,2),l=c[0],u=c[1],n(l?[l]:[null,u]);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},884:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var t=(0,n.createRef)(),r=(0,n.createRef)(),c=u((0,n.useState)(!1),2),s=c[0],d=c[1],f=u((0,n.useState)(!1),2),h=f[0],p=f[1],m=(0,a.useStore)(),v=(0,a.useSelector)((function(e){return(0,o.getUserInfo)(e)})),y=(0,a.useSelector)((function(e){return(0,o.getUnlockToken)(e)})),g=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var a,o,c,l,s,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.current,o=r.current,a.value){e.next=4;break}return e.abrupt("return",a.focus());case 4:if(o.value){e.next=6;break}return e.abrupt("return",o.focus());case 6:if(a.value==o.value){e.next=9;break}return alert("新密码两次输入不相同"),e.abrupt("return");case 9:return p(!0),e.next=12,n={new_password:a.value,unlock_token:y||""},(0,i.updatePassword)(n)(m.dispatch,m.getState);case 12:s=e.sent,f=u(s,2),c=f[0],l=f[1],p(!1),l&&l.success?(Toastify({text:"密码修改成功",duration:3e3,backgroundColor:"linear-gradient(to right, #18c31a, #14a22f)"}).showToast(),a.value="",o.value="",d(!1)):Toastify({text:c,duration:3e3,backgroundColor:"linear-gradient(to right, #ff6c6c, #f66262)"}).showToast();case 18:case"end":return e.stop()}var n}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){l(i,n,a,o,c,"next",e)}function c(e){l(i,n,a,o,c,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}();return v.phone||v.email?n.default.createElement("div",{className:"card"},n.default.createElement("div",{className:"card-header"},n.default.createElement("div",{className:"card-title"},"密码")),n.default.createElement("div",{className:"card-body"},s&&n.default.createElement("div",null,n.default.createElement("div",{className:"form-group"},n.default.createElement("input",{type:"password",className:"form-control",placeholder:"新密码",ref:t})),n.default.createElement("div",{className:"form-group"},n.default.createElement("input",{type:"password",className:"form-control",placeholder:"重复新密码",ref:r})),n.default.createElement("div",null,h?n.default.createElement("span",{className:"btn btn-outline-primary rounded-pill btn-sm"},"提交中..."):n.default.createElement("span",{className:"btn btn-outline-primary rounded-pill btn-sm",onClick:g},"提交"))),!s&&n.default.createElement("div",{className:"d-flex justify-content-between"},n.default.createElement("div",null,v.has_password?"已设置":"未设置"),n.default.createElement("span",{className:"btn btn-outline-primary rounded-pill btn-sm",onClick:function(){y?d(!0):e("#unlock-token-modal").modal({show:!0},{complete:function(e){e&&d(!0)}})}},v.has_password?"修改":"设置")))):""};var n=function(e){if(e&&e.__esModule)return e;var t=c();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}}r.default=e,t&&t.set(e,r);return r}(r(0)),a=r(168),i=r(279),o=r(78);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e,t,r,n,a,i,o){try{var c=e[i](o),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}}).call(this,r(68))},885:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var t=h((0,n.useState)(""),2),r=t[0],s=t[1],d=h((0,n.useState)(!1),2),p=d[0],m=d[1],v=h((0,n.useState)(!1),2),y=v[0],g=v[1],A=(0,n.createRef)(),b=(0,n.createRef)(),w=(0,a.useStore)(),x=(0,a.useSelector)((function(e){return(0,i.getUserInfo)(e)})),E=(0,a.useSelector)((function(e){return(0,i.getUnlockToken)(e)})),S=function(e){return(0,o.loadUserInfo)(e)(w.dispatch,w.getState)},k=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,a,i,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=A.current,n=b.current,t.value){e.next=4;break}return e.abrupt("return",t.focus());case 4:if(n.value){e.next=6;break}return e.abrupt("return",n.focus());case 6:return g(!0),e.next=9,u={args:{phone:t.value,captcha:n.value,area_code:r,unlock_token:E||""}},(0,c.addPhone)(u)(w.dispatch,w.getState);case 9:o=e.sent,l=h(o,2),a=l[0],i=l[1],g(!1),i&&i.success?(Toastify({text:"手机号绑定成功",duration:3e3,backgroundColor:"linear-gradient(to right, #50c64a, #40aa33)"}).showToast(),S({}),m(!1)):Toastify({text:a&&a.message?a.message:a,duration:3e3,backgroundColor:"linear-gradient(to right, #ff6c6c, #f66262)"}).showToast();case 15:case"end":return e.stop()}var u}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){f(i,n,a,o,c,"next",e)}function c(e){f(i,n,a,o,c,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}(),j=function(){E?m(!0):e("#unlock-token-modal").modal({show:!0},{complete:function(e){e&&m(!0)}})},M=function(e){var t=A.current;if(!t.value)return t.focus();e({id:x.phone?"reset-phone":"binding-phone",args:{phone:t.value,area_code:r,type:x.phone?"reset-phone":"binding-phone"},fields:"success"})};return n.default.createElement("div",null,n.default.createElement("div",{className:"card"},n.default.createElement("div",{className:"card-header d-flex justify-content-between"},n.default.createElement("span",{className:"card-title"},"手机号"),n.default.createElement("span",null)),n.default.createElement("div",{className:"card-body"},x.phone?p?n.default.createElement("div",null,n.default.createElement("form",null,n.default.createElement("div",{className:"form-group"},n.default.createElement("label",{htmlFor:"exampleInputEmail1"},"手机号"),n.default.createElement("div",{className:"row"},n.default.createElement("div",{className:"col-3"},n.default.createElement(u.default,{onChange:function(e){s(e)}})),n.default.createElement("div",{className:"col-9 pl-0"},n.default.createElement("input",{className:"form-control",type:"text",placeholder:"请输入新的手机号",ref:A})))),n.default.createElement("div",{className:"form-group"},n.default.createElement("label",{htmlFor:"exampleInputEmail1"},"验证码"),n.default.createElement("input",{className:"form-control",type:"text",placeholder:"请输入验证码",ref:b}),n.default.createElement("div",null,n.default.createElement(l.default,{onClick:M}))),n.default.createElement("div",{className:"form-group"},y?n.default.createElement("span",{className:"btn btn-outline-primary rounded-pill btn-sm"},"提交中..."):n.default.createElement("span",{className:"btn btn-outline-primary rounded-pill btn-sm",onClick:k},"提交")))):p?void 0:n.default.createElement("div",{className:"d-flex justify-content-between"},n.default.createElement("div",null,x.phone?x.phone:null),n.default.createElement("span",{className:"btn btn-outline-primary rounded-pill btn-sm",onClick:j},"修改")):n.default.createElement("div",{className:"d-flex justify-content-between"},n.default.createElement("div",null,"未绑定"),n.default.createElement("span",{className:"btn btn-outline-primary rounded-pill btn-sm",onClick:function(){e("#binding-phone").modal({show:!0},{})}},"绑定")))))};var n=function(e){if(e&&e.__esModule)return e;var t=d();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}}r.default=e,t&&t.set(e,r);return r}(r(0)),a=r(168),i=r(78),o=r(279),c=r(811),l=s(r(791)),u=s(r(804));function s(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function f(e,t,r,n,a,i,o){try{var c=e[i](o),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}}).call(this,r(68))},886:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,o.useSelector)((function(e){return(0,c.getUserInfo)(e)}));return a.default.createElement("div",{className:"card"},a.default.createElement("div",{className:"card-header"},a.default.createElement("div",{className:"card-title"},"屏蔽管理")),a.default.createElement("div",{className:"card-body"},a.default.createElement("div",{className:"row"},a.default.createElement("div",{className:"col-4"},a.default.createElement(i.Link,{to:"/block/posts"},"屏蔽",e.block_posts_count,"个话题")),a.default.createElement("div",{className:"col-4"},a.default.createElement(i.Link,{to:"/block/peoples"},"屏蔽",e.block_people_count,"位用户")),a.default.createElement("div",{className:"col-4"},a.default.createElement(i.Link,{to:"/block/comments"},"屏蔽",e.block_comment_count,"条评论")))))};var n,a=(n=r(0))&&n.__esModule?n:{default:n},i=r(115),o=r(168),c=r(78)},887:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var t=(0,i.useSelector)((function(e){return(0,o.getUserInfo)(e)})),r=(0,i.useStore)(),f=function(e){return(0,c.loadUserInfo)(e)(r.dispatch,r.getState)},h=function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var i,o,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h={theme:n},(0,c.updateUser)(h)(r.dispatch,r.getState);case 2:o=t.sent,d=2,u=function(e){if(Array.isArray(e))return e}(s=o)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}}(s,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}(),i=u[0],u[1],i?e.toast({text:i.message,position:"top-center",showHideTransition:"slide",icon:"error",loader:!1,allowToastClose:!1}):(f({}),(0,l.default)({theme:n}),a.get("service-worker").uninstall());case 7:case"end":return t.stop()}var s,d,h}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function o(e){p(i,n,a,o,c,"next",e)}function c(e){p(i,n,a,o,c,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}();return n.default.createElement("div",{className:"card"},n.default.createElement("div",{className:"card-header"},n.default.createElement("div",{className:"card-title"},"外观")),n.default.createElement("div",{className:"card-body"},n.default.createElement("span",{className:(0==t.theme||"a"?(0==t.theme?"bg-primary":"a")+" ":"")+"_2N9YY",onClick:function(){return h(0)}},n.default.createElement("img",{src:d.default}),n.default.createElement("br",null),"自动模式"),n.default.createElement("span",{className:(1==t.theme||"a"?(1==t.theme?"bg-primary":"a")+" ":"")+"_2N9YY",onClick:function(){return h(1)}},n.default.createElement("img",{src:u.default}),n.default.createElement("br",null),"浅色模式"),n.default.createElement("span",{className:(2==t.theme||"a"?(2==t.theme?"bg-primary":"a")+" ":"")+"_2N9YY",onClick:function(){return h(2)}},n.default.createElement("img",{src:s.default}),n.default.createElement("br",null),"暗色模式"),n.default.createElement("div",{className:"mt-2 text-muted"},n.default.createElement("small",null,"自动模式时间范围，早上7点 - 晚上8点为浅色模式，晚上9点 - 早上6点暗色模式"))))};var n=h(r(0)),a=function(e){if(e&&e.__esModule)return e;var t=f();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}}r.default=e,t&&t.set(e,r);return r}(r(116)),i=r(168),o=r(78),c=r(279),l=h(r(300)),u=h(r(888)),s=h(r(889)),d=h(r(890));function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r,n,a,i,o){try{var c=e[i](o),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}r(769)}).call(this,r(68))},888:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABYCAYAAAA+yDPkAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3NpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiNjg4MTYxZC1mM2IzLTQ2MTktOWRiYi0zM2Y0MmU0YjYyMGMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDc2MTdFNjVFMkMwMTFFOUI5ODU5NDU4REE4NzRDREIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDc2MTdFNjRFMkMwMTFFOUI5ODU5NDU4REE4NzRDREIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NWM5Yzc5ODYtODZhYi00YmFjLWIxYWUtN2E3ZjMxNDQ2MmRkIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmI2ODgxNjFkLWYzYjMtNDYxOS05ZGJiLTMzZjQyZTRiNjIwYyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlSevXQAAAPMSURBVHja7J3fatNQHMdP0rRNm271QuaNzAsR3PYSzgfwUp0gXnkneCEieOfVEBHfQPxzMSaCb7A9hE6vpkO9KYXS2aVb0/zx98sSmGszE9qeNsn3A9+Vdhk5PZ+dk5PTk0ZrNFviDBYpdyirlBXKAqUowDSxKQ3KN8oWZZPyPWpjJUIwi31OuUlRUaczjUv5SHlC2Tv9y2HyblC+UG5DbipQg4b4mXL3f4IfUj5R5lBvqaNGeUt5FCX4FuUVWm2qUSgvTrbk8BjMx9yd4L8ApB+TcpXyO2yt65CbKQzKs7AFX6LHXUoB9ZIpHMoVNTj2Qm72YKdrGv24nvhIrii5qSXP89Jc/FUWvBJ366KmiVqt4j/mBdtxhGkeip7Vj9xGL5dEtaoLrTDZjtC2qSzds8tyimXuos/HlXuuPpcruQxLq8/XRLlUjJQ7P2dMXK5fFu24LKVi7NniBRasxxqWGbrIUc88OItgVIfXS7UyhbLE3qcWe1Ijby13YMRSUIWqqgNjEX5delm0+L1F7NIpeW6+YR2ksByYlsw4EAzBAIIBBIPxkWRyDYJHqmhPOI4jfb+2Y0OwLA66R/L3aR7G3laDotHo9SzRppZsVHR/AkKZWG8h/N6C56L7fRuCZWJZfT8YZAEIBhAMIBhgkDVG+EN//lx40h8dOo5Lp0jdJCs60IJHpaKX/RUdMj4X5n34KzpKRQiWBa/Fkk0twSoSCB4Bf0WHKr8KtUms6AAYRQMIBhAMIBhAMIBgCAYQDCAYQDCAYADB+cGDYEkV7S98d6Xv17EdCJYFr1OWDRa+S+SoZ/mPMr+Exer3IVi25FA0BlkAggEEAwgGGGSNiXK55C9lxcL3DMJXNdSx8D27GFj4nm0KBflftY2F7wCCIRhAMIBgAMEAggEEAwiGYADBAIIBBAMIBhAMIBhAMAQfk/IbJY8FT3gzUo4JCLYS3Agii/B1Qa47WLX2FG6rk/Tqwl6cDfku2HltxfyuO2Z3eL3M9m11bBbcjLUl/ae22h1/TW5eRPP75Cv52vS+o25lw7fV2e+YUloy9yL7fw6SXF3Y5IXvO5SLsboG53gHYFBybzavLvzKLXgbijLLFgvepLioi8zBx4wNFrxH+YD6yBzvKD+URrPFTxa5v6YYqJdMYFKWKL/C8+CflPsJz6HB7PKA5YbnwSEblMeQnHqeUt6ET07PZL2k3ONzadRT6ugG7tZPvjhsqvI9ZZnyGqPrVOAGLXYpGFj9QzjIiuIyZY1yjbJCucB/gzqdKnwIbQSD4u3g0LobtfFfAQYAxRAcIzGypXQAAAAASUVORK5CYII="},889:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABYCAYAAAA+yDPkAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3NpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiNjg4MTYxZC1mM2IzLTQ2MTktOWRiYi0zM2Y0MmU0YjYyMGMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTlBRDFENkFFMkJBMTFFOUI5ODU5NDU4REE4NzRDREIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTlBRDFENjlFMkJBMTFFOUI5ODU5NDU4REE4NzRDREIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NWM5Yzc5ODYtODZhYi00YmFjLWIxYWUtN2E3ZjMxNDQ2MmRkIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmI2ODgxNjFkLWYzYjMtNDYxOS05ZGJiLTMzZjQyZTRiNjIwYyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmxuCHQAAAPXSURBVHja7J1PbxJBHIaHZSFY/ihsSyuxtYlpounRL2C9ePNqalJvxouJh578It6MiZdGj5682H4K9VQ1tpaWAk1K+SMU8PcjW626lNnADuzs+yQvJMvS3c7DLDPD7G5IXMwC5SFlhbJMyVIiAoyTU8oB5TNlk/KG8sXtH2GxG5Q2pYtMdNq25EVZufcpxyg436VCWRsk9xlqra/Toaz3k/vAXgEF5X/Jv2ty6Nx37kdKAm0YLahSblJ2w/aCF5TbKBdtiFKuUN5xDb5O2aaEUS5awW2pJcP+7oVc/WCnqyY93HX7TsMwzn1960xXdDodP/8DK2xph3JNZu1YLCYsK9t7DgrN5k9RKhVFrVbtu04ikRLpdEZEo1HP96VcLolq9UT2LXssuM7uZOTmcvMiFAqJILK/v+dYsMlkSmSzc0r3JZ/fpQ9cTWpY05CRy2Qy04GVy1jWjOPydNpSvi+ZzIzsqqYhu2YsdinQLZZIJCLCYfOvZfyB5+XK+0AuvgqkBQe59v4pg8koEzfbNQTQGgiGYADBAIJ1pNvtTvx2IXjIgm61msq3yyNaEKwIHsZUTbF4KL2uCUXDwcOX+fyP3lh0JBIVXnWN+ajcbDbF0VFJNBp1CFYJ/xBx0Y8RaGQBCAYQDCA4eKCRNQISiaSwrGlhmt7+dMh9bu6WuZjRgRo8LKnUZTE7e9VzuQx3w+bmcmJqKg7BquD+r2r4aAHBCuAf3lXUXKeaDMGKBE/6diEY3SQAwQCCAQQDCAYQDCAYggEEAwgGEOxvMPE9AIJbrZby7fL0WQhWBM9TVk25jInvyqhUjns1mS/l4OVFWM5Ok+GLsEhenwOCR8XJSaUXNLIABAMIBhAM0MgaIfF4onehNK+vmYWJ72OAL2XIk9FVXBANE9/HACa+a46bSejj2CYE+xBMfAcQDMEAggEEAwgGEAwgGEAwBAMIBhAMIBhAMIBgAMFAWrDPb5Q8EsZ1NuEw+yEtuF6vBVou38qm3W47LB/HbXXcnV0odROecrkY2FrMNaZYLDi+NuFnF56G6eEJJTVoTf708nxc0zR7CcLtZlks38KmUNin50bf2sTzlfnMwn/vLzzqfeHtHB4W3Nzh5YAtvafcQ3NESz7wIXoL5aAtm1yDFynb6DJpB7cIl1jqN8pblId2vKZ8PWspLVA+UeIoFy3gVtgtys7ZYfk75TE31lA2WvCU5Tq9sE7p2KIRf+b5IPtrlAoKynfhw/Ij2So+T3lpt8RQeJMddvTKbkf9x6DhqBuUVcodyjJlVuI9wOMBNh6hshvFPIaxYXdzHfklwAA0OwslQH101QAAAABJRU5ErkJggg=="},890:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABYCAYAAAA+yDPkAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3NpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiNjg4MTYxZC1mM2IzLTQ2MTktOWRiYi0zM2Y0MmU0YjYyMGMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDc2MTdFNjlFMkMwMTFFOUI5ODU5NDU4REE4NzRDREIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDc2MTdFNjhFMkMwMTFFOUI5ODU5NDU4REE4NzRDREIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NWM5Yzc5ODYtODZhYi00YmFjLWIxYWUtN2E3ZjMxNDQ2MmRkIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmI2ODgxNjFkLWYzYjMtNDYxOS05ZGJiLTMzZjQyZTRiNjIwYyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjS5LnIAAAQZSURBVHja7J1NbxJBHMZnYaEvvFSglFYbTdN4sPVDWC/ePKo1MZ68mXgwpokX46kxxnj0Yowvh6bGxKsX64fQ9FZtNKZpga2RQisU8P+nkCAu7dJ2B2b2+SVPUDpkYX7M7swwu2uspy2xD6cp1ykzlPOUEYopFCaVjAvF2aVsUJYpS5RFytd2hY02glnsI8oVik9ohAaCW6lQ3lHmKKutf7STd5nyhXJNN7ma4qs3xM+UGwcJvkN5T4mg3pQjTHlFudtO8FXKU7RapTEoj5tbsq/pmPu8XgCoL/kZZbxZ8Hy9iQM9CFEeNnrRZ+hxheL3wifXsBfdjjLlrK9+7PXjS68d7HSWJy0udryTN9Q9VPt8nXyXq6JSqagseYYFTzstHTBNEQ4P1B5VZWJisqPyxeIfkc1mRKGQbz8+CUdFLBYXwWDQ1ffO78WysiKf33L6kineRQ87lXtiKKK03MMQDPaJsbFTIhSy74NGIlGRSo26LrfxXkZHT4rBwUGnLxlhwf2OumWhfmF4eBCVSCRtn4/FEtLfSzyedFrUdDyp4bWW+9/nDwSE32/+1xfh5+XvVZzvLRwLNgzMgbRWQbfqpJPtYlpScyAYggEEAwjWkWq12vPbheAjVnSpVJS+XZ7RgmBJ8DSmbDKZtOOyJhQdDZ4XXlv7WZuLDgSCrs328V65WCyKzc2s2NnZhmCZ8A8R+/0YgU4WgGAAwQCCvQc6WcdAOBwRicSwME13fzrkMTcPyzpY0YEWfFSi0SGRSo25LpfhYdjeio4QBMuCx7+y4b0FBEuAf3iX0XLtWjIESxLc69uFYAyTAAQDCAYQDCAYQDCAYAgGEAwgGECw2mDhuwcEl0ol6dvl5bMQLAlepywby8LCd2nkcr9rLZkv5eDmdToap8nwRVgKhQIEy2RrK1cLOlkAggEEAwgG6GQdI3wVPL5QmtvXzMLC9y7AlzLkxegyLoiGhe9dAAvfNaeTRejd2CYEKwgWvgMIhmAAwQCCAQQDCAYQDCAYggEEAwgGEAwgGEAwgGDgWHC3zqTrJXqlDlw5u7BY2vW0XL6VTblctnm+G7fV6ezsQkc34cnntz3bivlzZzIbtn/r8bMLd3ldNJceP7AkfXutXzkRDg2IYMD0xO1mWSzfwsayMvS4Y1umcdLZ3i3e+1x9L4c4uzBtrKetD/SPS15pjalkXHiIj7yL/oS+prYsseBFSgV1oR3cI1xgwauUt6gP7XhN+dYYJs1xRxl1og3s8kHzOPg75RZ31lA3WnCb8qNZMLNAuQfJynOf8rLxn9aZrCeUmzy8Qz0pR6Hubr75SbupyjeUKcoL9K6VoFJvsefqHat/4ImO/V48SZmlXKBM8zwBv0bl2tBgooMPoeuUZbE3h8GH1pV2hf8KMAAAyBrBp/tGGwAAAABJRU5ErkJggg=="},891:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(u=(0,a.useState)(null),d=2,function(e){if(Array.isArray(e))return e}(u)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}}(u,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),t=e[0],r=e[1],n=(0,i.useSelector)((function(e){return(0,o.getUserInfo)(e)}));var u,d;if(!n)return null;var f=(0,i.useStore)(),h=function(e){return(0,c.loadUserInfo)(e)(f.dispatch,f.getState)},p=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r={user_cover:t},(0,c.updateUser)(r)(f.dispatch,f.getState);case 2:h({});case 3:case"end":return e.stop()}var r}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){s(i,n,a,o,c,"next",e)}function c(e){s(i,n,a,o,c,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,a.useEffect)((function(){r(a.default.createElement(l.default,{upload:p,text:"上传封面"}))}),[]),a.default.createElement("div",null,a.default.createElement("div",{className:"card"},a.default.createElement("div",{className:"card-header"},a.default.createElement("div",{className:"card-title"},"封面")),a.default.createElement("div",{className:"card-body"},a.default.createElement("div",{className:"_2-TNZ",style:n.user_cover?{backgroundImage:"url('".concat(n.user_cover,"')")}:null}),a.default.createElement("div",{className:"_2-RiN"},t))))};var n,a=function(e){if(e&&e.__esModule)return e;var t=u();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}}r.default=e,t&&t.set(e,r);return r}(r(0)),i=r(168),o=r(78),c=r(279),l=(n=r(805))&&n.__esModule?n:{default:n};function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function s(e,t,r,n,a,i,o){try{var c=e[i](o),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}r(770)}}]);