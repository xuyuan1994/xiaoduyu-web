(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(0)),a=u(n(277)),o=u(n(782)),i=u(n(779)),c=u(n(780)),l=u(n(892));function u(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.default)((function(){var e=(0,a.default)(),t=(e.history,e.location),n=(e.match,t.pathname),i={},u="";return-1!=n.indexOf("peoples")&&(u="不感兴趣的用户",i.people_id="exists"),-1!=n.indexOf("posts")&&(u="不感兴趣的话题",i.posts_id="exists"),-1!=n.indexOf("comments")&&(u="不感兴趣的评论/回复",i.comment_id="exists"),r.default.createElement(o.default,null,r.default.createElement(c.default,{title:u}),r.default.createElement("div",{className:"card"},r.default.createElement("div",{className:"card-header"},r.default.createElement("div",{className:"card-title"},u)),r.default.createElement("div",{className:"card-body p-0"},r.default.createElement(l.default,{id:n,query:i}))))}));t.default=s},779:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){t.history;var n=t.location,u=t.match;t.staticContext;"undefined"!=typeof window&&o.set("history",(0,a.default)().history);var s,f,d=(0,r.useState)(""),p=(f=2,function(e){if(Array.isArray(e))return e}(s=d)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(s,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),m=p[0],v=p[1],h=(0,i.useStore)(),g=n.pathname,y=n.search;return n.params=y?(0,l.default)(y):{},(0,r.useEffect)((function(){return"undefined"!=typeof window&&"/"!=window.location.pathname&&(0,c.setScrollPosition)(g+y)(h.dispatch,h.getState),function(){"undefined"!=typeof window&&o.remove("history")}}),[]),m?r.default.createElement("div",{className:"container text-center"},m):r.default.createElement(e,{match:u,setNotFound:v})};return t.loadDataOnServer=e.loadDataOnServer||function(){return{code:200}},t};var r=f(n(0)),a=u(n(277)),o=f(n(116)),i=n(168),c=n(278),l=u(n(781));function u(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function f(e){if(e&&e.__esModule)return e;var t=s();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}}return n.default=e,t&&t.set(e,n),n}},780:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.title,n=e.children,r=(0,i.useSelector)((function(e){return(0,c.getUnreadNotice)(e)})),s=(0,i.useSelector)((function(e){return(0,l.getTipsById)(e,"home")||(0,l.getTipsById)(e,"feed")||(0,l.getTipsById)(e,"favorite")||(0,l.getTipsById)(e,"excellent")})),f=(0,i.useSelector)((function(e){return(0,l.getTipsById)(e,"unread-message")})),d="";f&&(d+="(".concat(f,"条私信) "));r&&r.length>0&&(d+="(".concat(r.length,"条通知) "));s&&(d+="(有新动态) ");d+=t||u.name,t&&(d+=" - ".concat(u.name));return a.default.createElement(a.default.Fragment,null,a.default.createElement(o.ReactTitle,{title:d}),n?a.default.createElement(o.default,null,n):null)};var r,a=(r=n(0))&&r.__esModule?r:{default:r},o=function(e){if(e&&e.__esModule)return e;var t=s();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}}n.default=e,t&&t.set(e,n);return n}(n(691)),i=n(168),c=n(169),l=n(170),u=n(77);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}},781:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e.substr(1).split("&").reduce((function(e,t){if(t){var n=t.split("=");e[n[0]]=n[1]||""}return e}),{})};t.default=r},782:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.children;return a.default.createElement("div",{className:"container"},a.default.createElement("div",{className:"_3RUsQ"},t))};var r,a=(r=n(0))&&r.__esModule?r:{default:r};n(692)},783:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.size,e.position;return a.default.createElement("span",{className:"_3H7UH"})};var r,a=(r=n(0))&&r.__esModule?r:{default:r};n(693)},784:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.id,n=e.query,i=e.fields,c=void 0===i?"":i,l=e.load,u=e.data,s=void 0===u?[]:u,f=e.loading,d=void 0===f||f,p=e.count,m=void 0===p?0:p,v=e.more,h=void 0===v||v,g=e.showPagination,y=void 0!==g&&g,_=e.scrollLoad,b=void 0!==_&&_,w=e.nothing,O=void 0===w?"--- 无数据 ---":w,k=e.filters,E=e.renderItem,j=e.renderHead,P=e.renderFooter,x=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l({id:t,args:n,fields:c,restart:e})};if((0,r.useEffect)((function(){return 0==s.length&&h&&x(),b&&ArriveFooter.add(t,x),function(){b&&ArriveFooter.remove(t)}}),[t]),!d&&s&&0==s.length&&!h&&O)return r.default.createElement("div",{className:"text-center text-secondary pt-3 pb-3"},O);return r.default.createElement(r.default.Fragment,null,j?j({loadData:x}):null,s.map((function(e){return E(e)})),d&&y||h&&b?r.default.createElement("div",{className:"text-center pt-3 pb-3"},r.default.createElement(a.default,null)):null,y&&k?r.default.createElement(o.default,{count:m||0,pageSize:k.page_size||0,pageNumber:k.page_number||0,onSelect:function(e){n.page_number=e,x(!0)}}):null,P?P({loadData:x}):null)};var r=function(e){if(e&&e.__esModule)return e;var t=c();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}}n.default=e,t&&t.set(e,n);return n}(n(0)),a=i(n(783)),o=i(n(786));function i(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}},786:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.count,n=void 0===t?0:t,r=e.pageSize,o=void 0===r?0:r,i=e.pageNumber,c=void 0===i?0:i,l=e.onSelect,u=Math.ceil(n/o);if(!n||1==u)return null;var s=c>1?c-1:0,f=c+1<=u?c+1:0;return a.default.createElement("nav",{"aria-label":"Page navigation",className:"mt-3"},a.default.createElement("ul",{className:"pagination justify-content-center mb-3"},a.default.createElement("li",{className:"page-item ".concat(s?"":"disabled")},a.default.createElement("div",{className:"page-link","aria-label":"Previous",onClick:function(){l(s)}},a.default.createElement("span",{"aria-hidden":"true"},"«"),a.default.createElement("span",{className:"sr-only"},"Previous"))),function(){for(var e=[],t=c+4>=u?u:c+4,n=function(t){e.push(a.default.createElement("li",{className:"page-item ".concat(c-1==t?"active":""),key:t},a.default.createElement("div",{className:"page-link",onClick:function(){l(t+1)}},t+1)))},r=c-5>=1?c-5:0;r<t;r++)n(r);return e}(),a.default.createElement("li",{className:"page-item ".concat(f?"":"disabled")},a.default.createElement("div",{className:"page-link","aria-label":"Next",onClick:function(){l(f)}},a.default.createElement("span",{"aria-hidden":"true"},"»"),a.default.createElement("span",{className:"sr-only"},"Next")))))};var r,a=(r=n(0))&&r.__esModule?r:{default:r}},787:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var n=t.content,l=t.maxHeight;if(!n)return null;var u=s((0,r.useState)(n),2),f=u[0],d=u[1],p=s((0,r.useState)(!1),2),m=p[0],v=p[1],h=s((0,r.useState)(0),2),g=h[0],y=h[1],_=(0,r.createRef)();return(0,r.useEffect)((function(){d((0,o.default)(n)),i.default.registerLanguage("javascript",c.default),e(".markdown-body pre").each((function(e,t){i.default.highlightBlock(t)})),a.default.spacingElementByClassName("markdown-body"),g||y(_&&_.current?_.current.offsetHeight:0)}),[n]),r.default.createElement("div",null,r.default.createElement("div",{ref:_,style:!m&&l&&g>l?{maxHeight:"".concat(l,"px"),overflow:"hidden"}:null,className:"markdown-body _1_Fpd",dangerouslySetInnerHTML:{__html:f}}),function(){return m||!l||g<l?null:r.default.createElement("div",{className:"_2GBbo"},r.default.createElement("span",{className:"btn btn-outline-primary btn-block btn-sm mt-3",onClick:function(e){e.stopPropagation(),v(!m)}},!m&&l&&g>l?"展开全部":"收起"))}())};var r=function(e){if(e&&e.__esModule)return e;var t=u();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}}n.default=e,t&&t.set(e,n);return n}(n(0)),a=l(n(695));n(696);var o=l(n(790)),i=l(n(697)),c=l(n(698));function l(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}}).call(this,n(68))},790:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function r(e){e=e||32;for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=t.length,r="",a=0;a<e;a++)r+=t.charAt(Math.floor(Math.random()*n));return r}t.default=function(e){return e?e=function(e){var t=e.match(/\<img(.*?)>/g),n=function(e){var t=/src=[\'\"]?([^\'\"]*)[\'\"]?/i,n=[],r=e.match(/\<img(.*?)>/g);return r&&r.length>0&&r.map((function(e){var r=e.match(t);r&&r[1]&&n.push(r[1])})),n}(e);return n.map((function(e,t){n[t]=e.split("?")[0]})),n="['"+n.join("','")+"']",t&&t.length>0&&t.map((function(t,r){var a=t;a=a.replace(/\?/g,"\\?"),e=e.replace(new RegExp(a,"gm"),'<div onclick="webPictureViewer('+n+","+r+');">'+t+"</div>")})),e}(e=function(e){if(!e)return"";e=e.replace("&nbsp;"," ");var t=/(<a(.*?)>(.*?)<\/a>|<img(.*?)>|<ifram(.*?)>)/gi,n=[],a=e.match(t);a&&a.length>0&&e.match(t).map((function(t){var a="#"+r(18)+"#";n.push({id:a,value:t}),e=e.replace(t,a)}));var o=e.match(/(http:\/\/>http:\/\/|http:\/\/|https:\/\/|www\.|magnet\:\?xt\=)(.*?)(?=\s|http|https|\)|\>|\]|\}|\<|\"|\'|$)/gi);if(o&&o.length>0){o=o.sort((function(e,t){return t.length-e.length}));var i=[];o.map((function(t){var n="#"+r(18)+"#";i.push({id:n,value:t}),e=e.replace(t,n)})),i.map((function(t){var n=-1==t.value.indexOf("http")?"http:"+t.value:t.value;e=e.replace(t.id,"<a href=".concat(n,' target="_blank" rel="nofollow">').concat(t.value,"</a>"))}))}return n.length>0&&n.map((function(t){e=e.replace(t.id,t.value)})),e}(e=function(e){var t=e.match(/(https:\/\/v\.|http:\/\/v\.|v\.)qq\.com\/x\/(page|cover)\/(.*?)(?=\s|http|https|\)|\>|\]|\}|\<|$)/gi);return t&&0!=t.length?(t.map((function(t){var n;try{var r=t.split("?")[0].split(".");r=r[r.length-2].split("/"),n=t.split("?")[0].split("/").pop().split(".")[0]}catch(e){console.log(e)}if(n){var a="//v.qq.com/txp/iframe/player.html?vid=".concat(n);e=e.replace(t,'<iframe frameborder="0" src="'.concat(a,'" allowFullScreen="true"></iframe>'))}})),e):e}(e=function(e){var t=e.match(/(https:\/\/www\.youtube\.com|https:\/\/youtube\.com|http:\/\/www.youtube\.com|http:\/\/youtube\.com|www\.youtube\.com|youtube\.com)\/watch\?v\=(.*?)(?=\s|http|https|\)|\>|\]|\}|\<|$)/gi);return t&&0!=t.length?(t.map((function(t){var n;try{t.split("?")[1].split("&").map((function(e){var t=e.split("=");t&&"v"==t[0]&&(n=t[1])}))}catch(e){console.log(e)}if(n){var r="//www.youtube.com/embed/".concat(n);e=e.replace(t,'<iframe width="100%" style="background:#f9f9f9;" src="'.concat(r,'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'))}})),e):e}(e=function(e){var t=e.match(/(https:\/\/www\.acfun\.cn|https:\/\/acfun\.cn|http:\/\/www.acfun\.cn|http:\/\/acfun\.cn|www\.acfun\.cn|acfun\.cn)\/v\/(.*?)(?=\s|http|https|\)|\>|\]|\}|\<|$)/gi);return t&&0!=t.length?(t.map((function(t){var n;try{n=(n=t.split("acfun.cn/v/")[1].split("/")[0]).split("?")[0]}catch(e){console.log(e)}if(n){var r="https://www.acfun.cn/player/".concat(n);e=e.replace(t,'<iframe src="'.concat(r,'" id="ACFlashPlayer-re"  scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe>'))}})),e):e}(e=function(e){var t=e.match(/(https:\/\/www\.bilibili\.com|https:\/\/bilibili\.com|http:\/\/www.bilibili\.com|http:\/\/bilibili\.com|www\.bilibili\.com|bilibili\.com)\/video\/av(.*?)(?=\s|http|https|\)|\>|\]|\}|\<|$)/gi);return t&&0!=t.length?(t.map((function(t){var n;try{n=(n=t.split("bilibili.com/video/av")[1].split("/")[0]).split("?")[0]}catch(e){console.log(e)}if(n){var r="//player.bilibili.com/player.html?aid=".concat(n);e=e.replace(t,'<iframe src="'.concat(r,'" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe>'))}})),e):e}(e=function(e){var t=e.match(/(http:\/\/v\.youku\.com|https:\/\/v\.youku\.com|v\.youku\.com)\/v\_show\/id\_(.*?)(?=\s|http|https|\)|\>|\]|\}|\<|$)/gi);return t&&0!=t.length?(t.map((function(t){var n;try{n=(n=t.split("v.youku.com/v_show/id_")[1].split(".")[0]).split("?")[0]}catch(e){console.log(e)}if(n){var r="//player.youku.com/embed/".concat(n);e=e.replace(t,"<iframe width='100%' src='".concat(r,"' frameborder=0 'allowfullscreen'></iframe>"))}})),e):e}(e=function(e){var t=e.match(/(http:\/\/music\.163\.com|https:\/\/music\.163\.com|music\.163\.com)\/(.*?)(?=\s|http|https|\)|\>|\]|\}|\<|$)/gi);return t&&t.length>0&&t.map((function(t){var n,r=-1;-1!=t.indexOf("/song?")?r=2:-1!=t.indexOf("/playlist?")?r=0:-1!=t.indexOf("/album?")?r=1:-1!=t.indexOf("/dj?")?r=3:-1!=t.indexOf("/radio/?")&&(r=4);try{t.split("?")[1].split("&").map((function(e){var t=e.split("=");"id"==t[0]&&(n=t[1])}))}catch(e){console.log(e)}if(-1!=r&&n)if(2==r){var a="//music.163.com/outchain/player?type=2&id=".concat(n,"&auto=0&height=66");e=e.replace(t,'<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="'.concat(a,'"></iframe>'))}else if(3==r){var o="//music.163.com/outchain/player?type=3&id=".concat(n,"&auto=1&height=66");e=e.replace(t,'<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="'.concat(o,'"></iframe>'))}else if(4==r){var i="//music.163.com/outchain/player?type=4&id=".concat(n,"&auto=1&height=430");e=e.replace(t,'<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=450 src="'.concat(i,'"></iframe>'))}else{var c="//music.163.com/outchain/player?type=".concat(r,"&id=").concat(n,"&height=430");e=e.replace(t,'<iframe type="music" src="'.concat(c,'" height="430"></iframe>'))}})),e}(e=function(e){var t=e.match(/\<pre>(.*?)<\/pre>/g),n=[];t&&t.length>0&&t.map((function(t){var a="#"+r(18)+"#";n.push({id:a,value:t}),e=e.replace(t,a)}));var a=(e=e.replace(/([\r\n])/g,"")).split("<p><br></p>");return a=function(e){for(var t=[],n=0;n<e.length;n++)-1==t.indexOf(e[n])&&t.push(e[n]);return t.length>0&&!t[0]&&t.splice(0,1),t.length>0&&!t[t.length-1]&&t.splice(t.length-1,1),t}(a),e=a.join("<p><br></p>"),n.length>0&&n.map((function(t){e=e.replace(t.id,t.value)})),e}(e))))))))):""}},814:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeBlock=t.addBlock=t.loadBlockList=void 0;var r=a(n(48));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){i(o,r,a,c,l,"next",e)}function l(e){i(o,r,a,c,l,"throw",e)}c(void 0)}))}}var l=(0,a(n(117)).default)({reducerName:"block",actionType:"SET_BLOCK_LIST_BY_ID",api:"blocks",fields:"\n    _id\n    deleted\n    create_at\n    ip\n    user_id\n    comment_id {\n      _id\n      content_html\n      posts_id\n      parent_id\n    }\n    people_id {\n      create_at\n      avatar\n      _id\n      nickname\n      avatar_url\n      id\n    }\n    posts_id {\n      title\n      _id\n    }\n  "});t.loadBlockList=l;t.addBlock=function(e){var t=e.args;return function(e,n){return new Promise(function(){var a=c(regeneratorRuntime.mark((function a(i){var c,l,u,s,f;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,r.default)({type:"mutation",apis:[{api:"addBlock",args:t,fields:"\n          success\n          _id  \n          "}],headers:{accessToken:n().user.accessToken}});case 2:if(c=a.sent,l=o(c,2),u=l[0],s=l[1],i([u,s]),!u&&s&&s.success){a.next=9;break}return a.abrupt("return");case 9:f=n().user.userInfo,t.people_id?f.block_people_count?f.block_people_count+=1:f.block_people_count=1:t.posts_id?(f.block_posts_count?f.block_posts_count+=1:f.block_posts_count=1,e({type:"REMOVE_POSTS_BY_ID",id:t.posts_id})):t.comment_id&&(f.block_comment_count?f.block_comment_count+=1:f.block_comment_count=1,e({type:"REMOVE_COMMENT_BY_ID",id:t.comment_id})),e({type:"SET_USER",userinfo:f}),e({type:"SET_BLOCK_STATE",state:{}});case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}};t.removeBlock=function(e){var t=e.args,n=e.id;return function(e,a){return new Promise(function(){var i=c(regeneratorRuntime.mark((function i(c){var l,u,s,f,d;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return l=a().user,i.next=3,(0,r.default)({type:"mutation",apis:[{api:"removeBlock",args:t,fields:"success"}],headers:{accessToken:l.accessToken}});case 3:if(u=i.sent,s=o(u,2),f=s[0],d=s[1],c([f,d]),!f&&d&&d.success){i.next=10;break}return i.abrupt("return");case 10:e({type:"REMOVE_BLOCK_BY_ID",id:n}),t.people_id?l.userInfo.block_people_count-=1:t.posts_id?l.userInfo.block_posts_count-=1:t.comment_id&&(l.userInfo.block_comment_count-=1),e({type:"SET_USER",userinfo:l.userInfo});case 13:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}())}}},892:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.id,n=(0,i.useStore)(),u=(0,i.useSelector)((function(e){return(0,l.getBlockListById)(e,t)})),f=function(e){return d(regeneratorRuntime.mark((function t(){var r,a,o,i,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={},e.people_id&&(r.people_id=e.people_id._id),e.posts_id&&(r.posts_id=e.posts_id._id),e.comment_id&&(r.comment_id=e.comment_id._id),t.next=6,(0,c.removeBlock)({args:r,id:e._id})(n.dispatch,n.getState);case 6:a=t.sent,s=2,o=function(e){if(Array.isArray(e))return e}(u=a)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(u,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}(),i=o[0],(l=o[1])&&l.success?Toastify({text:"取消成功",duration:3e3,backgroundColor:"linear-gradient(to right, #50c64a, #40aa33)"}).showToast():i&&i.message&&Toastify({text:i.message,duration:3e3,backgroundColor:"linear-gradient(to right, #ff6c6c, #f66262)"}).showToast();case 11:case"end":return t.stop()}var u,s}),t)})))};return r.default.createElement(a.default,s({},e,u,{load:function(e){return(0,c.loadBlockList)(e)(n.dispatch,n.getState)},renderItem:function(e){return r.default.createElement("div",{key:e._id,className:"card-body border-bottom row"},r.default.createElement("div",{className:"col-9 col-md-10"},e.posts_id?e.posts_id.title:null,e.people_id?r.default.createElement("div",{className:"_7FV4Q"},r.default.createElement("img",{src:e.people_id.avatar_url}),e.people_id.nickname):null,e.comment_id?r.default.createElement("div",null,r.default.createElement(o.default,{content:e.comment_id.content_html})):null),r.default.createElement("div",{className:"col-3 col-md-2 text-right"},r.default.createElement("div",{className:"btn btn-outline-secondary btn-sm",onClick:f(e)},"取消")))}}))};var r=u(n(0)),a=u(n(784)),o=u(n(787)),i=n(168),c=n(814),l=n(297);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,c,"next",e)}function c(e){f(o,r,a,i,c,"throw",e)}i(void 0)}))}}n(773)}}]);