{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{734:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;var t=O();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}}n.default=e,t&&t.set(e,n);return n}(n(0)),r=N(n(277)),o=n(115),l=n(77),i=n(168),c=n(788),u=n(174),s=n(78),d=n(293),f=n(792),m=N(n(779)),p=N(n(780)),v=N(n(812)),_=N(n(854)),g=N(n(799)),y=N(n(815)),h=N(n(801)),b=N(n(783)),w=N(n(789)),E=N(n(816)),k=N(n(793));function N(e){return e&&e.__esModule?e:{default:e}}function O(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return O=function(){return e},e}function x(e,t,n,a,r,o,l){try{var i=e[o](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,r)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}n(741);var S=function(e){var t=e.setNotFound,n=((0,r.default)().match.params||{}).id,f=(0,i.useSelector)((function(e){return(0,s.getUserInfo)(e)})),m=(0,i.useSelector)((function(e){return(0,u.getPostsListById)(e,n)})),N=(0,i.useStore)(),O=function(e){return(0,c.viewPostsById)(e)(N.dispatch,N.getState)},x=function(e){return(0,d.addHasRead)(e)(N.dispatch,N.getState)};(0,a.useEffect)((function(){if(m&&m.data)if(m&&m.data&&!m.data[0])t(\"404 帖子不存在\");else{var e=m.data[0],a=e.comment_count;O({id:e._id}),x({postsId:e._id,total:a})}else(r={id:n,args:{_id:n,deleted:!1}},(0,c.loadPostsList)(r)(N.dispatch,N.getState)).then((function(e){var n=P(e,2),a=(n[0],n[1]);if(a&&a.data&&a.data[0]){var r=a.data[0],o=r.comment_count;O({id:r._id}),x({postsId:r._id,total:o})}else t(\"帖子不存在\")}));var r}),[n]);var S=m||{},j=S.loading,M=S.data,T=M&&M[0]?M[0]:null;return j||!T?a.default.createElement(\"div\",{className:\"text-center\"},a.default.createElement(b.default,null)):a.default.createElement(k.default,null,a.default.createElement(\"div\",null,a.default.createElement(p.default,{title:T.title},a.default.createElement(\"meta\",{name:\"description\",content:\"\".concat(T.content_summary)}),a.default.createElement(\"link\",{rel:\"canonical\",href:\"\".concat(l.domainName,\"/posts/\").concat(T._id)}),a.default.createElement(\"link\",{rel:\"amphtml\",href:\"\".concat(l.domainName,\"/amp/posts/\").concat(T._id)}),a.default.createElement(\"meta\",{property:\"og:locale\",content:\"zh_CN\"}),a.default.createElement(\"meta\",{property:\"og:type\",content:\"article\"}),a.default.createElement(\"meta\",{property:\"og:title\",content:T.title}),a.default.createElement(\"meta\",{property:\"og:description\",content:\"\".concat(T.content_summary)}),a.default.createElement(\"meta\",{property:\"og:url\",content:\"\".concat(l.domainName,\"/posts/\").concat(T._id)}),a.default.createElement(\"meta\",{property:\"og:site_name\",content:l.name}),a.default.createElement(\"meta\",{property:\"og:image\",content:T._coverImage?\"https:\"+T._coverImage:l.domainName+\"/512x512.png\"})),a.default.createElement(_.default,{posts:T}),a.default.createElement(\"div\",{className:\"mt-2\"}),a.default.createElement(\"div\",{className:\"card border-bottom-0 \".concat(f?\"mb-0\":\"\")+\" _2FgGd\"},a.default.createElement(\"div\",{className:\"card-header\",style:{borderBottom:\"none\"}},T.comment_count>0?a.default.createElement(\"div\",null,T.comment_count,\"条评论\",T.reply_count?\" / \".concat(T.reply_count,\"条回复\"):\"\"):a.default.createElement(\"div\",{className:\"text-center\"},\"暂无评论\")),T.comment_count>0?a.default.createElement(\"div\",{className:\"card-body p-0\"},a.default.createElement(v.default,{id:T._id,query:{deleted:!1,weaken:!1,posts_id:T._id,parent_id:\"not-exists\",reply_page_size:T.comment_count>10?3:10,page_size:100,page_number:Math.ceil(T.comment_count/100)},showPagination:!0,postsAuthorId:T.user_id._id})):null),f?a.default.createElement(\"div\",{className:\"border-top\"},a.default.createElement(\"div\",{className:\"card border-top-0 UNcYe\"},a.default.createElement(h.default,{posts_id:T._id,forward:!0}))):null,a.default.createElement(\"div\",{className:\"d-block d-lg-none d-xl-none\"},a.default.createElement(y.default,{width:\"100%\",height:\"200px\"}))),a.default.createElement(\"div\",null,a.default.createElement(\"div\",{className:\"card\"},a.default.createElement(\"div\",{className:\"card-body\"},a.default.createElement(\"div\",{className:\"_2BLm5\"},a.default.createElement(o.Link,{to:\"/people/\".concat(T.user_id._id),className:\"text-dark\"},a.default.createElement(\"img\",{className:\"_3TEns\",src:T.user_id.avatar_url}),a.default.createElement(\"div\",{className:\"_2MqnX\"},T.user_id.nickname)),a.default.createElement(\"div\",{className:\"_1phrR\"},a.default.createElement(\"small\",null,T.user_id.brief||\"\")),a.default.createElement(\"div\",{className:\"mt-2\"},a.default.createElement(w.default,{user:T.user_id}),a.default.createElement(E.default,{people_id:T.user_id._id,className:\"btn btn-outline-primary btn-sm rounded-pill ml-3\"}))),a.default.createElement(\"div\",{className:\"row border-top pt-3 mt-3\"},a.default.createElement(\"div\",{className:\"col-4 text-center\"},T.user_id.follow_people_count,a.default.createElement(\"br\",null),a.default.createElement(\"small\",{className:\"text-secondary\"},\"关注\")),a.default.createElement(\"div\",{className:\"col-4 text-center\"},T.user_id.fans_count,a.default.createElement(\"br\",null),a.default.createElement(\"small\",{className:\"text-secondary\"},\"粉丝\")),a.default.createElement(\"div\",{className:\"col-4 text-center\"},T.user_id.posts_count,a.default.createElement(\"br\",null),a.default.createElement(\"small\",{className:\"text-secondary\"},\"帖子\"))))),a.default.createElement(g.default,{width:\"250px\",height:\"250px\"})))};S.loadDataOnServer=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,a,r,o,l,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.store,a=t.match,t.res,t.req,!t.user){e.next=3;break}return e.abrupt(\"return\",{code:200});case 3:return r=a.params.id,e.next=6,(0,c.loadPostsList)({id:r,args:{_id:r,deleted:!1}})(n.dispatch,n.getState);case 6:if(o=e.sent,(l=P(o,2))[0],!((i=l[1])&&i.data&&i.data.length>0)){e.next=17;break}return u=i.data[0],e.next=14,(0,f.loadCommentList)({id:u._id,args:{deleted:!1,weaken:!1,posts_id:u._id,parent_id:\"not-exists\",reply_page_size:u.comment_count>10?3:10,page_size:100,page_number:Math.ceil(u.comment_count/100)}})(n.dispatch,n.getState);case 14:return e.abrupt(\"return\",{code:200});case 17:return e.abrupt(\"return\",{code:404});case 18:case\"end\":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function l(e){x(o,a,r,l,i,\"next\",e)}function i(e){x(o,a,r,l,i,\"throw\",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}();var j=(0,m.default)(S);t.default=j},779:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t=function(t){t.history;var n=t.location,u=t.match;t.staticContext;\"undefined\"!=typeof window&&o.set(\"history\",(0,r.default)().history);var s,d,f=(0,a.useState)(\"\"),m=(d=2,function(e){if(Array.isArray(e))return e}(s=f)||function(e,t){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)){var n=[],a=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}}(s,d)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()),p=m[0],v=m[1],_=(0,l.useStore)(),g=n.pathname,y=n.search;return n.params=y?(0,c.default)(y):{},(0,a.useEffect)((function(){return\"undefined\"!=typeof window&&\"/\"!=window.location.pathname&&(0,i.setScrollPosition)(g+y)(_.dispatch,_.getState),function(){\"undefined\"!=typeof window&&o.remove(\"history\")}}),[]),p?a.default.createElement(\"div\",{className:\"container text-center\"},p):a.default.createElement(e,{match:u,setNotFound:v})};return t.loadDataOnServer=e.loadDataOnServer||function(){return{code:200}},t};var a=d(n(0)),r=u(n(277)),o=d(n(116)),l=n(168),i=n(278),c=u(n(781));function u(e){return e&&e.__esModule?e:{default:e}}function s(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function d(e){if(e&&e.__esModule)return e;var t=s();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}}return n.default=e,t&&t.set(e,n),n}},780:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t=e.title,n=e.children,a=(0,l.useSelector)((function(e){return(0,i.getUnreadNotice)(e)})),s=(0,l.useSelector)((function(e){return(0,c.getTipsById)(e,\"home\")||(0,c.getTipsById)(e,\"feed\")||(0,c.getTipsById)(e,\"favorite\")||(0,c.getTipsById)(e,\"excellent\")})),d=(0,l.useSelector)((function(e){return(0,c.getTipsById)(e,\"unread-message\")})),f=\"\";d&&(f+=\"(\".concat(d,\"条私信) \"));a&&a.length>0&&(f+=\"(\".concat(a.length,\"条通知) \"));s&&(f+=\"(有新动态) \");f+=t||u.name,t&&(f+=\" - \".concat(u.name));return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.ReactTitle,{title:f}),n?r.default.createElement(o.default,null,n):null)};var a,r=(a=n(0))&&a.__esModule?a:{default:a},o=function(e){if(e&&e.__esModule)return e;var t=s();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}}n.default=e,t&&t.set(e,n);return n}(n(691)),l=n(168),i=n(169),c=n(170),u=n(77);function s(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}},781:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a=function(e){return e.substr(1).split(\"&\").reduce((function(e,t){if(t){var n=t.split(\"=\");e[n[0]]=n[1]||\"\"}return e}),{})};t.default=a},783:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){e.size,e.position;return r.default.createElement(\"span\",{className:\"_3H7UH\"})};var a,r=(a=n(0))&&a.__esModule?a:{default:a};n(693)},784:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t=e.id,n=e.query,l=e.fields,i=void 0===l?\"\":l,c=e.load,u=e.data,s=void 0===u?[]:u,d=e.loading,f=void 0===d||d,m=e.count,p=void 0===m?0:m,v=e.more,_=void 0===v||v,g=e.showPagination,y=void 0!==g&&g,h=e.scrollLoad,b=void 0!==h&&h,w=e.nothing,E=void 0===w?\"--- 无数据 ---\":w,k=e.filters,N=e.renderItem,O=e.renderHead,x=e.renderFooter,P=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];c({id:t,args:n,fields:i,restart:e})};if((0,a.useEffect)((function(){return 0==s.length&&_&&P(),b&&ArriveFooter.add(t,P),function(){b&&ArriveFooter.remove(t)}}),[t]),!f&&s&&0==s.length&&!_&&E)return a.default.createElement(\"div\",{className:\"text-center text-secondary pt-3 pb-3\"},E);return a.default.createElement(a.default.Fragment,null,O?O({loadData:P}):null,s.map((function(e){return N(e)})),f&&y||_&&b?a.default.createElement(\"div\",{className:\"text-center pt-3 pb-3\"},a.default.createElement(r.default,null)):null,y&&k?a.default.createElement(o.default,{count:p||0,pageSize:k.page_size||0,pageNumber:k.page_number||0,onSelect:function(e){n.page_number=e,P(!0)}}):null,x?x({loadData:P}):null)};var a=function(e){if(e&&e.__esModule)return e;var t=i();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}}n.default=e,t&&t.set(e,n);return n}(n(0)),r=l(n(783)),o=l(n(786));function l(e){return e&&e.__esModule?e:{default:e}}function i(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}},786:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t=e.count,n=void 0===t?0:t,a=e.pageSize,o=void 0===a?0:a,l=e.pageNumber,i=void 0===l?0:l,c=e.onSelect,u=Math.ceil(n/o);if(!n||1==u)return null;var s=i>1?i-1:0,d=i+1<=u?i+1:0;return r.default.createElement(\"nav\",{\"aria-label\":\"Page navigation\",className:\"mt-3\"},r.default.createElement(\"ul\",{className:\"pagination justify-content-center mb-3\"},r.default.createElement(\"li\",{className:\"page-item \".concat(s?\"\":\"disabled\")},r.default.createElement(\"div\",{className:\"page-link\",\"aria-label\":\"Previous\",onClick:function(){c(s)}},r.default.createElement(\"span\",{\"aria-hidden\":\"true\"},\"«\"),r.default.createElement(\"span\",{className:\"sr-only\"},\"Previous\"))),function(){for(var e=[],t=i+4>=u?u:i+4,n=function(t){e.push(r.default.createElement(\"li\",{className:\"page-item \".concat(i-1==t?\"active\":\"\"),key:t},r.default.createElement(\"div\",{className:\"page-link\",onClick:function(){c(t+1)}},t+1)))},a=i-5>=1?i-5:0;a<t;a++)n(a);return e}(),r.default.createElement(\"li\",{className:\"page-item \".concat(d?\"\":\"disabled\")},r.default.createElement(\"div\",{className:\"page-link\",\"aria-label\":\"Next\",onClick:function(){c(d)}},r.default.createElement(\"span\",{\"aria-hidden\":\"true\"},\"»\"),r.default.createElement(\"span\",{className:\"sr-only\"},\"Next\")))))};var a,r=(a=n(0))&&a.__esModule?a:{default:a}},788:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.addPosts=function(e){var t=e.title,n=e.detail,a=e.detailHTML,r=e.topicId,o=e.device,i=e.type;return function(e,c){return new Promise(function(){var e=d(regeneratorRuntime.mark((function e(s){var d,f,m,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.default)({type:\"mutation\",apis:[{api:\"addPosts\",args:{title:t,content:n,content_html:a,topic_id:r,device_id:o,type:i},fields:\"\\n        success\\n        _id\\n        \"}],headers:{accessToken:c().user.accessToken}});case 2:d=e.sent,f=u(d,2),m=f[0],p=f[1],s([m,p]);case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},t.viewPostsById=function(e){var t=e.id;return(function(){var e=d(regeneratorRuntime.mark((function e(n,r){var o,c,s,d,f,m,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.default)(a.default.load({key:\"view-posts\"}));case 2:if(o=e.sent,c=u(o,2),c[0],s=c[1],(d=(d=s||\"\").split(\",\"))[0]||(d=[]),-1!=d.indexOf(t)){e.next=19;break}return d.push(t),a.default.save({key:\"view-posts\",data:d.join(\",\"),expires:36e5}),e.next=14,(0,l.default)({type:\"mutation\",apis:[{api:\"viewPosts\",args:{posts_id:t},fields:\"success\"}]});case 14:f=e.sent,m=u(f,2),m[0],(p=m[1])&&p.success&&n({type:\"UPDATE_POSTS_VIEW\",id:t});case 19:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},t.updatePosts=function(e){var t=e.id,n=e.title,a=e.detail,r=e.detailHTML,o=e.topicId;e.topicName;return(function(){var e=d(regeneratorRuntime.mark((function e(i,c){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",new Promise(function(){var e=d(regeneratorRuntime.mark((function e(s,d){var m,p,v,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m={_id:t,title:n,content:a,content_html:r,topic_id:o},e.next=3,(0,l.default)({type:\"mutation\",apis:[{api:\"updatePosts\",args:JSON.parse(JSON.stringify(m)),fields:\"success\"}],headers:{accessToken:c().user.accessToken}});case 3:if(p=e.sent,v=u(p,2),_=v[0],v[1],!_){e.next=9;break}return e.abrupt(\"return\",d(_));case 9:f({id:t,args:{_id:t},restart:!0})(i,c).then((function(e){var n=u(e,2),a=(n[0],n[1]),r=a&&a.data&&a.data[0]?a.data[0]:null;r?i({type:\"UPDATE_POST\",id:t,update:r}):s(a),s(a)}));case 10:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},t.refreshPostsListById=t.removePostsListById=t.loadPostsList=void 0;var a=c(n(172)),r=n(171),o=c(n(785)),l=c(n(48)),i=c(n(118));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function s(e,t,n,a,r,o,l){try{var i=e[o](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,r)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function l(e){s(o,a,r,l,i,\"next\",e)}function i(e){s(o,a,r,l,i,\"throw\",e)}l(void 0)}))}}var f=(0,c(n(117)).default)({reducerName:\"posts\",actionType:\"SET_POSTS_LIST_BY_ID\",processList:function(e,t,n){return e.map((function(e){if(e.device&&(e._device=o.default.getNameByDeviceId(e.device)),e.content_html&&\"<p><br></p>\"==e.content_html&&(e.content_html=\"\"),e.content_html){e.images=m(e.content_html),e.images&&e.images.length>0&&(e._coverImage=e.images[0].split(\"?\")[0]+\"?imageView2/2/w/300/auto-orient/format/jpg\");for(var t,n=e.content_html,a=/<img(.*?)>/gi,l=[];t=a.exec(n);)l.push(t[0]);l.map((function(e){n=n.replace(e,\"[图片] \")})),(n=(n=(n=n.replace(/<[^>]+>/g,\"\")).replace(/\\r\\n/g,\"\")).replace(/\\n/g,\"\")).length>137&&(n=n.slice(0,137)+\"...\"),e.content_summary=n,e.content_html=p(e.content_html)}e.create_at&&(e._create_at=(0,r.dateDiff)(e.create_at)),e.sort_by_date&&(e._sort_by_date=(0,r.dateDiff)(e.sort_by_date)),e.last_comment_at&&(e._last_comment_at=(0,r.dateDiff)(e.last_comment_at)),e.update_at&&(e._update_at=(0,r.dateDiff)(e.update_at))})),e},api:\"posts\",fields:\"\\n  _id\\n  comment_count\\n  reply_count\\n  content_html\\n  create_at\\n  deleted\\n  device\\n  follow_count\\n  last_comment_at\\n  like_count\\n  recommend\\n  sort_by_date\\n  title\\n  ip\\n  topic_id{\\n    _id\\n    name\\n    parent_id {\\n      _id\\n      name\\n    }\\n  }\\n  type\\n  user_id{\\n    _id\\n    nickname\\n    brief\\n    avatar_url\\n    posts_count\\n    comment_count\\n    fans_count\\n    follow_people_count\\n    follow\\n  }\\n  verify\\n  view_count\\n  weaken\\n  follow\\n  like\\n  update_at\\n  \"});t.loadPostsList=f;t.removePostsListById=function(e){return function(t,n){t({type:\"REMOVE_POSTS_LIST_BY_ID\",id:e})}};t.refreshPostsListById=function(e){return function(t,n){var a=n().posts[e]||null;if(a&&a.filters)return delete a.filters.page_size,delete a.filters.page_number,f({id:e,args:a.filters,restart:!0})(t,n).then((function(e){var a=u(e,2),r=(a[0],a[1]);if(r&&r.data&&r.data.length>0){var o={};r.data.map((function(e){o[e._id]=e}));var l=n().posts;Reflect.ownKeys(l).map((function(e){n().posts[e].data.map((function(e){o[e._id]&&(o[e._id].comment_count&&(e.comment_count=o[e._id].comment_count),o[e._id].reply_count&&(e.reply_count=o[e._id].reply_count),o[e._id].follow_count&&(e.follow_count=o[e._id].follow_count),o[e._id].like_count&&(e.like_count=o[e._id].like_count))}))})),t({type:\"SET_POSTS\",state:l})}}))}};var m=function(e){for(var t,n=/<img(?:(?:\".*?\")|(?:'.*?')|(?:[^>]*?))*>/gi,a=/src=[\\'\\\"]?([^\\'\\\"]*)[\\'\\\"]?/i,r=[];t=n.exec(e);){var o=t[0].match(a);o&&o[1]&&(-1!=(o=o[1])[1].indexOf(\"xiaoduyu.com\")&&(o=o[1]+\"?imageView2/2/w/800/auto-orient/format/jpg\"),r.push(o))}return r},p=function(e){for(var t,n=/<img(?:(?:\".*?\")|(?:'.*?')|(?:[^>]*?))*>/gi,a=/src=[\\'\\\"]?([^\\'\\\"]*)[\\'\\\"]?/i;t=n.exec(e);){var r=t[0];if(r){var o=r.match(a);if(o&&o[1]&&-1!=o[1].indexOf(\"xiaoduyu.com\")){var l=r.replace(o[1],o[1]+\"?imageView2/2/w/800/auto-orient/format/jpg\");e=e.replace(r,l)}}}return e}},789:function(e,t,n){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(t){var n=t.posts,a=t.user,u=t.topic,s=t.className,d=void 0===s?\"btn btn-outline-primary btn-sm rounded-pill\":s,f=t.activeClassName,m=void 0===f?\"btn btn-outline-secondary btn-sm rounded-pill\":f,p=n||a||u,v=(0,o.useSelector)((function(e){return(0,i.getUserInfo)(e)})),_=(0,o.useStore)();if(v&&n&&n.user_id&&n.user_id._id==v._id||v&&a&&a._id==v._id)return\"\";var g=\"关注\",y=r.default.createElement(\"svg\",{width:\"15px\",height:\"15px\",stroke:\"currentColor\",strokeWidth:1.8,strokeLinecap:\"round\",strokeLinejoin:\"round\",fill:\"none\",className:\"mr-1\"},r.default.createElement(\"use\",{xlinkHref:\"/feather-sprite.svg#plus\"}));n&&(g=\"收藏\",y=null);p.follow&&(y=null);return v?p.follow?r.default.createElement(\"span\",{className:m,onClick:function(e){e.stopPropagation();var t={};n&&(t.posts_id=n._id),a&&(t.user_id=a._id),u&&(t.topic_id=u._id),function(e){return(0,l.unfollow)(e)(_.dispatch,_.getState)}({args:t}).then((function(e){var t=c(e,2),n=t[0];t[1];n&&Toastify({text:n,duration:3e3,backgroundColor:\"linear-gradient(to right, #0988fe, #1c75fb)\"}).showToast()}))}},y,\"正在\",g):r.default.createElement(\"span\",{className:d,onClick:function(t){t.stopPropagation();var r={};n&&(r.posts_id=n._id),a&&(r.user_id=a._id),u&&(r.topic_id=u._id),function(e){return(0,l.follow)(e)(_.dispatch,_.getState)}({args:r}).then((function(t){var n=c(t,2),a=n[0];n[1];a&&e.toast({text:a,position:\"top-center\",showHideTransition:\"slide\",icon:\"info\",loader:!1,allowToastClose:!1})}))}},y,g):r.default.createElement(\"span\",{className:d,\"data-toggle\":\"modal\",\"data-target\":\"#sign\",onClick:function(e){e.stopPropagation()}},y,g)};var a,r=(a=n(0))&&a.__esModule?a:{default:a},o=n(168),l=n(794),i=n(78);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}n(699)}).call(this,n(68))},793:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t=e.children,n=void 0===t?[]:t;return(0,a.useEffect)((function(){var e=FloatFixed({id:\"right-float\",offsetTop:60});return function(){e.remove()}}),[]),a.default.createElement(\"div\",{className:\"container\"},a.default.createElement(\"div\",{className:\"_26ovl\"},a.default.createElement(\"div\",{id:\"center\"},n[0]),a.default.createElement(\"div\",{className:\"_1mclz\"},a.default.createElement(\"div\",{id:\"right\"},n[1]),a.default.createElement(\"div\",null,a.default.createElement(\"div\",{id:\"right-float\",className:\"_3R-zd\"},n[2]||null)))))};var a=function(e){if(e&&e.__esModule)return e;var t=r();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}}n.default=e,t&&t.set(e,n);return n}(n(0));function r(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}n(702)},794:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.unfollow=t.follow=t.findFollows=void 0;var a=r(n(48));function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function l(e,t,n,a,r,o,l){try{var i=e[o](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,r)}var i=(0,r(n(117)).default)({reducerName:\"follow\",actionType:\"SET_FOLLOW_LIST_BY_ID\",api:\"findFollows\",fields:\"\"});t.findFollows=i;var c=function(e){return function(t){var n=t.args;return function(t,r){return new Promise(function(){var i,c=(i=regeneratorRuntime.mark((function l(i){var c,u,s,d,f;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n.status=e,c=r().user.userInfo,l.next=4,(0,a.default)({type:\"mutation\",apis:[{api:\"addFollow\",args:n,fields:\"success\"}],headers:{accessToken:r().user.accessToken}});case 4:if(u=l.sent,s=o(u,2),d=s[0],f=s[1],!d){l.next=10;break}return l.abrupt(\"return\",i([d?d.message:\"未知错误\"]));case 10:n.posts_id?(t({type:\"UPDATE_FOLLOW\",id:n.posts_id,followStatus:e,selfId:c._id}),t({type:\"UPDATE_POSTS_FOLLOW\",id:n.posts_id,followStatus:e})):n.user_id?(t({type:\"UPDATE_FOLLOW\",id:n.user_id,followStatus:e,selfId:c._id}),t({type:\"UPDATE_POSTS_AUHTOR_FOLLOW\",peopleId:n.user_id,followStatus:e,selfId:c._id}),t({type:\"UPLOAD_PEOPLE_FOLLOW\",peopleId:n.user_id,followStatus:e,selfId:c._id})):n.topic_id&&(t({type:\"UPDATE_FOLLOW\",id:n.topic_id,followStatus:e,selfId:c._id}),t({type:\"UPDATE_TOPIC_FOLLOW\",id:n.topic_id,followStatus:e})),i([null,f]);case 12:case\"end\":return l.stop()}}),l)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var r=i.apply(e,t);function o(e){l(r,n,a,o,c,\"next\",e)}function c(e){l(r,n,a,o,c,\"throw\",e)}o(void 0)}))});return function(e){return c.apply(this,arguments)}}())}}},u=c(!0);t.follow=u;var s=c(!1);t.unfollow=s},796:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a={};a.in=\"undefined\"!=typeof window&&\"undefined\"!=typeof document&&\"micromessenger\"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i);var r=a;t.default=r},799:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t=e.width,n=e.height;if(!(r.googleAdSense&&r.googleAdSense.client&&r.googleAdSense.slot&&r.googleAdSense.slot.pc))return null;var l={style:{display:\"inline-block\",width:t,height:n},\"data-ad-client\":r.googleAdSense.client,\"data-ad-slot\":r.googleAdSense.slot.pc};return a.default.createElement(\"div\",null,a.default.createElement(\"div\",{className:\"card\"},a.default.createElement(\"div\",{className:\"card-body\",style:{padding:\"19px\"}},a.default.createElement(o.default,l))))};var a=l(n(0)),r=n(77),o=l(n(800));function l(e){return e&&e.__esModule?e:{default:e}}},800:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t=(0,a.useRef)();return(0,a.useEffect)((function(){if(window.adsbygoogle)(adsbygoogle=window.adsbygoogle||[]).push({});else{var e=document.getElementsByTagName(\"head\").item(0),n=document.createElement(\"script\");n.onload=function(){(adsbygoogle=window.adsbygoogle||[]).push({})},n.type=\"text/javascript\",n.src=\"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\",e.appendChild(n)}setTimeout((function(){t&&t.current&&t.current.childNodes&&0==t.current.childNodes.length&&(t.current.parentNode.className=\"d-none\")}),1e3)}),[]),a.default.createElement(\"ins\",o({className:\"adsbygoogle\"},e,{ref:t}))};var a=function(e){if(e&&e.__esModule)return e;var t=r();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}}n.default=e,t&&t.set(e,n);return n}(n(0));function r(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}},801:function(e,t,n){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(t){var n=t._id,u=void 0===n?\"\":n,s=t.posts_id,d=void 0===s?\"\":s,p=t.parent_id,v=void 0===p?\"\":p,_=t.reply_id,g=void 0===_?\"\":_,y=t.placeholder,h=void 0===y?\"写评论...\":y,b=t.successCallback,w=void 0===b?function(){}:b,E=t.getEditor,k=void 0===E?function(e){}:E,N=t.forward,O=void 0!==N&&N,x=(0,a.useRef)(),P=m((0,a.useState)(\"\"),2),S=P[0],j=P[1],M=m((0,a.useState)(\"\"),2),T=M[0],C=M[1],I=m((0,a.useState)(a.default.createElement(\"div\",null)),2),L=I[0],A=I[1],R=m((0,a.useState)(null),2),D=R[0],U=R[1],W=m((0,a.useState)(!1),2),F=W[0],z=W[1],B=(0,o.useStore)(),q=function(e){return(0,l.addComment)(e)(B.dispatch,B.getState)},H=function(){var e=f(regeneratorRuntime.mark((function e(){var t,n,r,o,s,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F){e.next=2;break}return e.abrupt(\"return\");case 2:if(S){e.next=4;break}return e.abrupt(\"return\",D.focus());case 4:if(t=decodeURIComponent(T),t.replace(/\\s/gi,\"\"),t=(t=(t=t.replace(/<[^>]+>/g,\"\")).replace(/\\r\\n/g,\"\")).replace(/\\n/g,\"\"),t.replace(/\\&nbsp\\;/gi,\"\")){e.next=12;break}return e.abrupt(\"return\",D.focus());case 12:if(-1==t.indexOf('<img src=\"\">')){e.next=15;break}return Toastify({text:\"有图片上传中，请等待上传完成后再提交\",duration:3e3,backgroundColor:\"linear-gradient(to right, #0988fe, #1c75fb)\"}).showToast(),e.abrupt(\"return\");case 15:if(z(!0),!u){e.next=25;break}return e.next=19,p={_id:u,content:S,content_html:T},(0,l.updateComment)(p)(B.dispatch,B.getState);case 19:r=e.sent,o=m(r,2),n=o[0],o[1],e.next=31;break;case 25:return e.next=27,q({posts_id:d,parent_id:v,reply_id:g,contentJSON:S,contentHTML:T,deviceId:i.default.getCurrentDeviceId(),forward:!(!x||!x.current)&&x.current.checked});case 27:s=e.sent,f=m(s,2),n=f[0],f[1];case 31:z(!1),n?n&&Toastify({text:n.message,duration:3e3,backgroundColor:\"linear-gradient(to right, #ff6c6c, #f66262)\"}).showToast():(A(a.default.createElement(\"div\",{key:(new Date).getTime()},a.default.createElement(c.default,{syncContent:V,content:\"\",getEditor:function(e){U(e),k(e)},displayControls:!v}))),V(\"\",\"\"),w());case 33:case\"end\":return e.stop()}var p}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=f(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(t),C(n),e.next=4,r.default.load({key:\"comments-draft\"});case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:(a=e.t0)[g||d]=t,r.default.save({key:\"comments-draft\",data:a});case 10:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=f(regeneratorRuntime.mark((function e(){var t,n,o,i,s,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=\"\",!u){e.next=9;break}return e.next=4,p={name:\"edit_\"+u,args:{_id:u},fields:\"\\n          content\\n          _id\\n        \",restart:!0},(0,l.loadCommentList)(p)(B.dispatch,B.getState);case 4:n=e.sent,o=m(n,2),o[0],(i=o[1])&&i.data&&i.data[0]&&(t=i.data[0].content);case 9:return s={},e.prev=10,e.next=13,r.default.load({key:\"comments-draft\"});case 13:if(e.t0=e.sent,e.t0){e.next=16;break}e.t0={};case 16:s=e.t0,e.next=23;break;case 19:e.prev=19,e.t1=e.catch(10),s={},console.log(e.t1);case 23:f={content:t||s[g||d]||\"\",syncContent:V,getEditor:function(e){U(e),k(e)},displayControls:!0,placeholder:h},A(a.default.createElement(c.default,f));case 25:case\"end\":return e.stop()}var p}),e,null,[[10,19]])})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){J(),O&&e('[data-toggle=\"tooltip\"]').tooltip()}),[]),a.default.createElement(\"div\",null,a.default.createElement(\"div\",{className:\"_2RtMV\"},L),a.default.createElement(\"div\",{className:\"d-flex justify-content-between align-items-center _1VRJu\"},a.default.createElement(\"div\",null,O?a.default.createElement(\"label\",{className:\"m-0\"},a.default.createElement(\"input\",{type:\"checkbox\",ref:x}),a.default.createElement(\"span\",{className:\"ml-1\",\"data-toggle\":\"tooltip\",\"data-placement\":\"top\",title:\"同时转发给我的粉丝\"},\"转发\")):null),a.default.createElement(\"div\",null,a.default.createElement(\"button\",{onClick:H,type:\"button\",className:\"btn btn-block btn-primary rounded-pill btn-sm pl-3 pr-3\"},F?\"提交中...\":\"提交\"))))};var a=function(e){if(e&&e.__esModule)return e;var t=s();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}}n.default=e,t&&t.set(e,n);return n}(n(0)),r=u(n(172)),o=n(168),l=n(792),i=u(n(785)),c=u(n(802));function u(e){return e&&e.__esModule?e:{default:e}}function s(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function d(e,t,n,a,r,o,l){try{var i=e[o](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,r)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function l(e){d(o,a,r,l,i,\"next\",e)}function i(e){d(o,a,r,l,i,\"throw\",e)}l(void 0)}))}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}n(701)}).call(this,n(68))},803:function(e,t,n){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(t){var n=t.posts,i=t.comment,c=t.live,s=t.styleType,d=u((0,a.useState)(!1),2),f=d[0],m=d[1],p=u((0,a.useState)(!1),2),v=p[0],_=p[1],g=\"\",y=\"\",h=\"\";n?(g=n.title,y=n.content_summary,n._coverImage||\"\",h=o.domainName+\"/posts/\"+n._id):i?(g=i.posts_id.title,y=i.content_summary,i._coverImage||\"\",h=o.domainName+\"/comment/\"+i._id):c&&(g=c.user_id.nickname+\"的直播间\",y=c.title,c.cover_image||\"\",h=o.domainName+\"/live/\"+c._id);var b=function(){h+=\"?from_share=weibo\",window.open(\"http://service.weibo.com/share/share.php?url=\".concat(encodeURIComponent(h),\"&title=\").concat(encodeURIComponent(g)),\"_blank\",\"width=550,height=370\")},w=function(){h+=\"?from_share=qzone\",window.open(\"https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=\".concat(encodeURIComponent(h),\"&title=\").concat(encodeURIComponent(g),\"&desc=\").concat(encodeURIComponent(\"来自\"+o.name+\" \"+o.domainName),\"&summary=\").concat(encodeURIComponent(y),\"&site=\").concat(encodeURIComponent(o.name)),\"_blank\",\"width=590,height=370\")},E=function(){h+=\"?from_share=qq\",window.open(\"https://connect.qq.com/widget/shareqq/index.html?url=\".concat(encodeURIComponent(h),\"&title=\").concat(g,\"&desc=&summary=\").concat(encodeURIComponent(y),\"&site=\").concat(encodeURIComponent(o.name)),\"_blank\",\"width=770,height=620\")},k=function(){h+=\"?from_share=facebook\",window.open(\"https://www.facebook.com/sharer/sharer.php?u=\".concat(encodeURIComponent(h),\"&t=\").concat(g),\"_blank\",\"width=770,height=620\")},N=function(){h+=\"?from_share=twitter\",window.open(\"https://twitter.com/intent/tweet?text=\".concat(g,\"&url=\").concat(encodeURIComponent(h)),\"_blank\",\"width=770,height=620\")},O=function(){l.default.in?m(!0):_(!0)},x=function(e){_(e)},P=function(e){m(e)};if(\"icons\"==s)return a.default.createElement(\"div\",null,a.default.createElement(\"div\",{className:\"_3bezE\"},a.default.createElement(\"span\",{className:\"a _1Hb5x\",onClick:O}),a.default.createElement(\"span\",{className:\"a _33lE4\",onClick:b}),a.default.createElement(\"span\",{className:\"a _384yp\",onClick:w}),a.default.createElement(\"span\",{className:\"a _2Tml9\",onClick:E}),a.default.createElement(\"span\",{className:\"a _1zLkZ\",onClick:N}),a.default.createElement(\"span\",{className:\"a _3mZlN\",onClick:k})),a.default.createElement(\"div\",null,v?a.default.createElement(\"div\",{className:\"DsKCT\",onClick:function(){x(!1)}}):null,v?a.default.createElement(\"div\",{className:\"_2LUT8\"},a.default.createElement(r.default,{value:\"\".concat(h,\"?_s=weixin\")}),a.default.createElement(\"div\",null,\"微信扫一扫，分享\")):null,a.default.createElement(\"div\",{className:\"_3hzq5\",style:{display:f?\"block\":\"none\"},onClick:function(){P(!1)}},a.default.createElement(\"div\",null,\"点击右上角 ... 按钮，\",a.default.createElement(\"br\",null),\"将此页面分享给你的朋友或朋友圈\"))));return a.default.createElement(\"div\",{className:\"_1jwjw\"},a.default.createElement(\"span\",{\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\",className:\"a text-secondary\"},\"分享\"),a.default.createElement(\"div\",null,a.default.createElement(\"div\",{className:\"dropdown-menu\",\"aria-labelledby\":\"share-dropdown\"},a.default.createElement(\"span\",{className:\"a dropdown-item _1z7AA\",onClick:function(){var t=e(\"<textarea>\"+(h+=\"?from_share=link\")+\"</textarea>\");e(\"body\").append(t),t[0].select(),document.execCommand(\"Copy\"),t.remove(),Toastify({text:\"复制成功\",duration:3e3,backgroundColor:\"linear-gradient(to right, #50c64a, #40aa33)\"}).showToast()}},\"复制连接\"),a.default.createElement(\"span\",{className:\"a dropdown-item _1Hb5x\",onClick:O},\"微信\"),a.default.createElement(\"span\",{className:\"a dropdown-item _33lE4\",onClick:b},\"微博\"),a.default.createElement(\"span\",{className:\"a dropdown-item _384yp\",onClick:w},\"QQ空间\"),a.default.createElement(\"span\",{className:\"a dropdown-item _2Tml9\",onClick:E},\"QQ好友和群组\"),a.default.createElement(\"span\",{className:\"a dropdown-item _1zLkZ\",onClick:N},\"Twitter\"),a.default.createElement(\"span\",{className:\"a dropdown-item _3mZlN\",onClick:k},\"Facebook\")),v?a.default.createElement(\"div\",{className:\"DsKCT\",onClick:function(){x(!1)}}):null,v?a.default.createElement(\"div\",{className:\"_2LUT8\"},a.default.createElement(r.default,{value:\"\".concat(h,\"?_s=weixin\")}),a.default.createElement(\"div\",null,\"微信扫一扫，分享\")):null,a.default.createElement(\"div\",{className:\"_3hzq5\",style:{display:f?\"block\":\"none\"},onClick:function(){P(!1)}},a.default.createElement(\"div\",null,\"点击右上角 ... 按钮，\",a.default.createElement(\"br\",null),\"将此页面分享给你的朋友或朋友圈\"))))};var a=function(e){if(e&&e.__esModule)return e;var t=c();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}}n.default=e,t&&t.set(e,n);return n}(n(0)),r=i(n(694)),o=n(77),l=i(n(796));function i(e){return e&&e.__esModule?e:{default:e}}function c(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}n(703)}).call(this,n(68))},815:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t=e.width,n=e.height;if(!(r.googleAdSense&&r.googleAdSense.client&&r.googleAdSense.slot&&r.googleAdSense.slot.h5))return null;var l={style:{display:\"inline-block\",width:t,height:n},\"data-ad-client\":r.googleAdSense.client,\"data-ad-slot\":r.googleAdSense.slot.pc};return a.default.createElement(o.default,l)};var a=l(n(0)),r=n(77),o=l(n(800));function l(e){return e&&e.__esModule?e:{default:e}}},816:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t=e.people_id,n=e.className,c=(0,r.default)().history,u=(0,o.useSelector)((function(e){return(0,l.getUserInfo)(e)})),s=(0,o.useStore)();if(u&&u._id&&u._id==t)return\"\";var d=a.default.createElement(\"svg\",{width:\"15px\",height:\"15px\",stroke:\"currentColor\",strokeWidth:1.8,strokeLinecap:\"round\",strokeLinejoin:\"round\",fill:\"none\",className:\"mr-1\"},a.default.createElement(\"use\",{xlinkHref:\"/feather-sprite.svg#message-circle\"}));return u?a.default.createElement(\"span\",{className:n,onClick:function(e){var n;e.stopPropagation(),(n={people_id:t},(0,i.getSession)(n)(s.dispatch,s.getState)).then((function(e){e&&c.push(\"/session/\".concat(e))}))}},d,\"私信\"):a.default.createElement(\"span\",{className:n,\"data-toggle\":\"modal\",\"data-target\":\"#sign\",onClick:function(e){e.stopPropagation()}},d,\"私信\")};var a=c(n(0)),r=c(n(277)),o=n(168),l=n(78),i=n(281);function c(e){return e&&e.__esModule?e:{default:e}}},854:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t=e.posts;return a.default.createElement(\"div\",{className:\"card\"},a.default.createElement(\"div\",{className:\"d-block d-md-none\"},a.default.createElement(\"div\",{className:\"d-flex justify-content-between align-items-center border-bottom _3VNQY\"},a.default.createElement(\"div\",{className:\"w-50\"},a.default.createElement(r.Link,{to:\"/people/\".concat(t.user_id._id),className:\"text-dark\"},a.default.createElement(\"img\",{className:\"Ic5sG\",src:t.user_id.avatar_url}),a.default.createElement(\"b\",null,t.user_id.nickname)),a.default.createElement(\"div\",{className:\"_1K_H8\"},t.user_id.brief||\"...\")),a.default.createElement(\"div\",{style:{textAlign:\"right\"}},a.default.createElement(u.default,{user:t.user_id})))),a.default.createElement(\"div\",{className:\"card-body\"},a.default.createElement(\"div\",{className:\"_1p8Id\"},a.default.createElement(\"div\",{className:\"text-secondary mb-2 _1muop\"},a.default.createElement(\"span\",null,a.default.createElement(r.Link,{to:\"/topic/\".concat(t.topic_id.parent_id._id),className:\"text-secondary\"},t.topic_id.parent_id.name),a.default.createElement(\"span\",{className:\"text-muted mr-1 ml-1\"},\"›\"),a.default.createElement(r.Link,{to:\"/topic/\".concat(t.topic_id._id),className:\"text-secondary\"},t.topic_id.name))),a.default.createElement(\"h1\",{className:\"_3NCvr\"},t.title))),t.content_html?a.default.createElement(\"div\",{className:\"card-body border-top _2s7Nm\"},a.default.createElement(l.default,{content:t.content_html,maxHeight:o.default.posts.contentMaxHeight})):null,a.default.createElement(\"div\",{className:\"card-footer d-flex justify-content-between\"},a.default.createElement(\"div\",{className:\"w-50 text-muted _21nLR\"},a.default.createElement(\"span\",null,t._create_at),t.view_count?a.default.createElement(\"span\",null,t.view_count,\"次阅读\"):null,t.like_count?a.default.createElement(\"span\",null,t.like_count,\"人赞\"):null,t.follow_count?a.default.createElement(\"span\",null,t.follow_count,\"人收藏\"):null),a.default.createElement(\"div\",{className:\"JdpMw\"},a.default.createElement(i.default,{posts:t,displayNumber:!1}),a.default.createElement(u.default,{posts:t,className:\"a text-secondary\",activeClassName:\"a text-secondary\"}),a.default.createElement(s.default,{posts:t}),a.default.createElement(c.default,{posts:t}))))};var a=d(n(0)),r=n(115),o=d(n(119));n(740);var l=d(n(787)),i=d(n(813)),c=d(n(807)),u=d(n(789)),s=d(n(803));function d(e){return e&&e.__esModule?e:{default:e}}}}]);","extractedComments":[]}